import{u as R,af as W,ag as j,ah as I,d as x,ai as M,aj as N,D as _,n as G,w as P,O as U,E as k}from"./index-BC3jgjxj.js";function K(t){return M()?(N(t),!0):!1}function p(t){return typeof t=="function"?t():R(t)}const E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const L=Object.prototype.toString,Q=t=>L.call(t)==="[object Object]",O=()=>{},X=V();function V(){var t,e;return E&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function B(t,e){function n(...o){return new Promise((r,u)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(r).catch(u)})}return n}const C=t=>t();function $(t,e={}){let n,o,r=O;const u=c=>{clearTimeout(c),r(),r=O};return c=>{const w=p(t),a=p(e.maxWait);return n&&u(n),w<=0||a!==void 0&&a<=0?(o&&(u(o),o=null),Promise.resolve(c())):new Promise((f,i)=>{r=e.rejectOnCancel?i:f,a&&!o&&(o=setTimeout(()=>{n&&u(n),o=null,f(c())},a)),n=setTimeout(()=>{o&&u(o),o=null,f(c())},w)})}}function q(t=C){const e=x(!0);function n(){e.value=!1}function o(){e.value=!0}const r=(...u)=>{e.value&&t(...u)};return{isActive:j(e),pause:n,resume:o,eventFilter:r}}function S(t,e=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(e?()=>r(n):o,t)})}function z(t){return k()}function Y(...t){if(t.length!==1)return W(...t);const e=t[0];return typeof e=="function"?j(I(()=>({get:e,set:O}))):x(e)}function Z(t,e=200,n={}){return B($(e,n),t)}function H(t,e,n={}){const{eventFilter:o=C,...r}=n;return P(t,B(o,e),r)}function tt(t,e,n={}){const{eventFilter:o,...r}=n,{eventFilter:u,pause:y,resume:c,isActive:w}=q(o);return{stop:H(t,e,{...r,eventFilter:u}),pause:y,resume:c,isActive:w}}function et(t,e=!0,n){z()?_(t,n):e?t():G(t)}function A(t,e=!1){function n(i,{flush:s="sync",deep:l=!1,timeout:d,throwOnTimeout:v}={}){let m=null;const b=[new Promise(T=>{m=P(t,g=>{i(g)!==e&&(m==null||m(),T(g))},{flush:s,deep:l,immediate:!0})})];return d!=null&&b.push(S(d,v).then(()=>p(t)).finally(()=>m==null?void 0:m())),Promise.race(b)}function o(i,s){if(!U(i))return n(g=>g===i,s);const{flush:l="sync",deep:d=!1,timeout:v,throwOnTimeout:m}=s??{};let h=null;const T=[new Promise(g=>{h=P([t,i],([F,D])=>{e!==(F===D)&&(h==null||h(),g(F))},{flush:l,deep:d,immediate:!0})})];return v!=null&&T.push(S(v,m).then(()=>p(t)).finally(()=>(h==null||h(),p(t)))),Promise.race(T)}function r(i){return n(s=>!!s,i)}function u(i){return o(null,i)}function y(i){return o(void 0,i)}function c(i){return n(Number.isNaN,i)}function w(i,s){return n(l=>{const d=Array.from(l);return d.includes(i)||d.includes(p(i))},s)}function a(i){return f(1,i)}function f(i=1,s){let l=-1;return n(()=>(l+=1,l>=i),s)}return Array.isArray(p(t))?{toMatch:n,toContains:w,changed:a,changedTimes:f,get not(){return A(t,!e)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:u,toBeNaN:c,toBeUndefined:y,changed:a,changedTimes:f,get not(){return A(t,!e)}}}function nt(t){return A(t)}export{Q as a,K as b,E as c,et as d,Y as e,Z as f,X as i,O as n,p as t,nt as u,tt as w};
