import{d as g,w as te,a3 as he,f as pe,x as ge,R as fe,D as ce,o as v,c as be,i as s,h as n,u as e,j as i,t as d,b,a as oe,F as Ve,g as $e,p as Be,O as w,aJ as ye,a8 as _e}from"./index-uPjlTW5-.js";import{u as ve}from"./useAsyncValidator-C5NemhNH.js";import{_ as re,a as le,b as we,c as Ue}from"./Form.layout.vue_vue_type_script_setup_true_lang-B3guF2JO.js";import{_ as ke}from"./Form.radio.vue_vue_type_script_setup_true_lang-DqVl4uhi.js";import{_ as U}from"./Form.textarea.vue_vue_type_script_setup_true_lang-BYw8y6gU.js";import{_ as De}from"./Form.input.slot.vue_vue_type_script_setup_true_lang-Dh5vRput.js";import{_ as p}from"./Form.input.vue_vue_type_script_setup_true_lang-BBQUoBof.js";import{_ as Pe}from"./Form.select.vue_vue_type_script_setup_true_lang-LEVlCLKL.js";import{p as se,r as Fe}from"./record-DPcLV60y.js";import{g as Ie,p as Re}from"./request.helper-Dd_ZrsNF.js";import{r as Ae}from"./util.object-9m6X7yey.js";import{f as Ne}from"./index-NXitLOah.js";import"./form-DgPV59gJ.js";import"./keyboard-j6qjsN5K.js";import"./EyeIcon-S74RYEFz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChevronDownIcon-CXEVS-NP.js";import"./enum-CD4clsnU.js";const ne={enable:!0,birthDay:"",gender:"-1",address:"",height:160,weight:60,bloodPressure:120,temperature:37,heartBeat:80,anamnesis:"",diagnosis:"",userId:"-1"},r=g({...ne}),$=g([]),B=g(""),Oe=["Tăng huyết áp","Viêm gan","Đái tháo đường","Động kinh","Hạ huyết áp","Đau đầu"],k=g([]),V=g(""),de=g({}),ie=async m=>{V.value=m||"";const y={...se.value,value:V.value};Ie("/api/users/role/customer/search",y).then(h=>{if(h!=null&&h.data){const{data:_,...t}=h.data;k.value=_,de.value=t}})},je=Ne(async()=>{await ie()},600,{maxWait:5e3}),Ce=async()=>{Re("/api/healthrecords",r.value).then(m=>{m!=null&&m.data&&(Ae(r,ne),he(m.message))})};te($,m=>{r.value.anamnesis=m.join(", ")});te(B,m=>{r.value.anamnesis=m});const Se={class:"mb-5 grid grid-cols-1 gap-6 xl:grid-cols-2"},He={class:"mb-5 grid grid-cols-2 gap-6 xl:grid-cols-3"},Me={class:"grid grid-cols-3 md:grid-cols-4 lg:grid-col-5 gap-2.5 p-5"},Te=["value","id"],qe=["for"],sa=pe({__name:"HealthRecordAddView",setup(m){const y=ge(),h=fe(),{pass:_,errorFields:t}=ve(r,Fe),me=async()=>{const o=k.value.find(a=>a.id===r.value.userId);await h.push("/admin/prescriptions?email="+(o==null?void 0:o.email)),await Ce()};return ce(async()=>{await ie(String(y.query.email||""))}),(o,a)=>(v(),be(Ue,{submit:me},{default:s(()=>[n(re,null,{default:s(()=>{var f,c,u,D,P,F,I,R,A,N,O,j,C,S;return[n(le,{"has-error":[!!((c=(f=e(t))==null?void 0:f.birthDay)!=null&&c.length),!!((D=(u=e(t))==null?void 0:u.gender)!=null&&D.length),!!((F=(P=e(t))==null?void 0:P.address)!=null&&F.length),!!((R=(I=e(t))==null?void 0:I.height)!=null&&R.length),!!((N=(A=e(t))==null?void 0:A.weight)!=null&&N.length),!!((j=(O=e(t))==null?void 0:O.bloodPressure)!=null&&j.length),!!((S=(C=e(t))==null?void 0:C.heartBeat)!=null&&S.length)]},{heading:s(()=>[i(d(o.$t("form.heading")),1)]),content:s(()=>{var H,M,T,q,E,J,L,W,z,G,K,Q,X,Y,Z,x,ee,ae;return[b("div",Se,[n(p,{type:"date",modelValue:e(r).birthDay,"onUpdate:modelValue":a[0]||(a[0]=l=>e(r).birthDay=l),"has-error":!!((M=(H=e(t))==null?void 0:H.birthDay)!=null&&M.length),placeholder:o.$t("form.place_holder.birth_day")},{default:s(()=>[i(d(o.$t("form.birth_day")),1)]),_:1},8,["modelValue","has-error","placeholder"]),n(Pe,{modelValue:e(r).gender,"onUpdate:modelValue":a[1]||(a[1]=l=>e(r).gender=l),list:[{label:o.$t("form.gender.male"),id:"male"},{label:o.$t("form.gender.female"),id:"female"}],"has-error":!!((q=(T=e(t))==null?void 0:T.gender)!=null&&q.length),placeholder:o.$t("form.place_holder.gender")},{default:s(()=>[i(d(o.$t("form.select_gender")),1)]),_:1},8,["modelValue","list","has-error","placeholder"])]),n(U,{modelValue:e(r).address,"onUpdate:modelValue":a[2]||(a[2]=l=>e(r).address=l),"has-error":!!((J=(E=e(t))==null?void 0:E.address)!=null&&J.length),placeholder:o.$t("form.place_holder.address")},{default:s(()=>[i(d(o.$t("form.address")),1)]),_:1},8,["modelValue","has-error","placeholder"]),b("div",He,[n(p,{type:"number",modelValue:e(r).height,"onUpdate:modelValue":a[3]||(a[3]=l=>e(r).height=l),"has-error":!!((W=(L=e(t))==null?void 0:L.height)!=null&&W.length),placeholder:o.$t("form.place_holder.height")},{default:s(()=>[i(d(o.$t("form.height")),1)]),_:1},8,["modelValue","has-error","placeholder"]),n(p,{type:"number",modelValue:e(r).weight,"onUpdate:modelValue":a[4]||(a[4]=l=>e(r).weight=l),"has-error":!!((G=(z=e(t))==null?void 0:z.weight)!=null&&G.length),placeholder:o.$t("form.place_holder.weight")},{default:s(()=>[i(d(o.$t("form.weight")),1)]),_:1},8,["modelValue","has-error","placeholder"]),n(p,{type:"number",modelValue:e(r).bloodPressure,"onUpdate:modelValue":a[5]||(a[5]=l=>e(r).bloodPressure=l),"has-error":!!((Q=(K=e(t))==null?void 0:K.bloodPressure)!=null&&Q.length),placeholder:o.$t("form.place_holder.blood_pressure")},{default:s(()=>[i(d(o.$t("form.blood_pressure")),1)]),_:1},8,["modelValue","has-error","placeholder"]),n(p,{type:"number",modelValue:e(r).heartBeat,"onUpdate:modelValue":a[6]||(a[6]=l=>e(r).heartBeat=l),"has-error":!!((Y=(X=e(t))==null?void 0:X.heartBeat)!=null&&Y.length),placeholder:o.$t("form.place_holder.heart_beat")},{default:s(()=>[i(d(o.$t("form.heart_beat")),1)]),_:1},8,["modelValue","has-error","placeholder"]),n(p,{type:"number",modelValue:e(r).temperature,"onUpdate:modelValue":a[7]||(a[7]=l=>e(r).temperature=l),"has-error":!!((x=(Z=e(t))==null?void 0:Z.temperature)!=null&&x.length),placeholder:o.$t("form.place_holder.temperature")},{default:s(()=>[i(d(o.$t("form.temperature")),1)]),_:1},8,["modelValue","has-error","placeholder"])]),n(U,{modelValue:e(r).diagnosis,"onUpdate:modelValue":a[8]||(a[8]=l=>e(r).diagnosis=l),"has-error":!!((ae=(ee=e(t))==null?void 0:ee.diagnosis)!=null&&ae.length),placeholder:o.$t("form.place_holder.diagnosis")},{default:s(()=>[i(d(o.$t("form.diagnosis")),1)]),_:1},8,["modelValue","has-error","placeholder"]),n(De,{"has-error":!1},{label:s(()=>[i(d(o.$t("form.anamnesis")),1)]),content:s(()=>[b("div",Me,[(v(!0),oe(Ve,null,$e(e(Oe),l=>(v(),oe("div",{key:l,class:"flex gap-2 items-center"},[Be(b("input",{type:"checkbox",value:l,"onUpdate:modelValue":a[9]||(a[9]=ue=>w($)?$.value=ue:null),id:l},null,8,Te),[[ye,e($)]]),b("label",{for:l,class:"relative flex cursor-pointer select-none items-center gap-2 text-sm font-medium text-black-1000 dark:text-white"},d(l),9,qe)]))),128))])]),_:1}),n(U,{modelValue:e(B),"onUpdate:modelValue":a[10]||(a[10]=l=>w(B)?B.value=l:null),placeholder:o.$t("form.place_holder.other_anamnesis")},{default:s(()=>[i(d(o.$t("form.other_anamnesis")),1)]),_:1},8,["modelValue","placeholder"])]}),_:1},8,["has-error"])]}),_:1}),n(re,null,{default:s(()=>{var f,c;return[n(we,{modelValue:e(r).enable,"onUpdate:modelValue":a[11]||(a[11]=u=>e(r).enable=u),pass:e(_)},null,8,["modelValue","pass"]),n(le,{"has-error":[!!((c=(f=e(t))==null?void 0:f.userId)!=null&&c.length)]},{heading:s(()=>[i(d(o.$t("form.information")),1)]),content:s(()=>[n(ke,_e({"onUpdate:search":[e(je),a[13]||(a[13]=u=>w(V)?V.value=u:null)],id:e(r).userId,"onUpdate:id":a[12]||(a[12]=u=>e(r).userId=u),search:e(V),list:e(k)},{pagination:e(de),paginationOptions:e(se)}),null,16,["onUpdate:search","id","search","list"])]),_:1},8,["has-error"])]}),_:1})]),_:1}))}});export{sa as default};
