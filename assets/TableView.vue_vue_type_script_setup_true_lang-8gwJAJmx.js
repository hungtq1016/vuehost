import{f as z,d as T,W as S,Z as V,V as ge,D as J,w as ee,I as ne,F as A,X as be,a0 as he,n as E,Y as ye,o as _,a as L,b as n,c as Z,i as g,h as y,u as w,t as O,T as ue,g as U,l as H,m as xe,p as we,v as _e,aC as de,a3 as ce,a4 as F,aD as ke,ax as oe,aE as X,R as Oe,x as Se,aF as le,a5 as Le,j as Ce,k as $e,r as ie,aa as Pe,aG as Te,ab as W,ac as G,B as Re}from"./index-Cz9B68HP.js";import{d as De,e as Ne,f as Ve,u as ze}from"./form-aYMBd3ty.js";import{u as I,o as R,E as Me,A as q,T as Be,I as te,s as Ie,N as se,a as $}from"./keyboard-BOI6BuMK.js";import{f as je,c as D,w as Ee,p as Fe,u as He,S as Ae,M as Ze,b as Ue,g as Ke}from"./menu-DwXda5gx.js";import{t as qe,i as K,l as Qe}from"./open-closed-DWRb3dX1.js";import{w as We,h as Ge,O as Je}from"./use-tree-walker-CxsaKLL4.js";import{r as Xe}from"./CheckIcon-Bx2k_scR.js";import{r as Ye}from"./ChevronRightIcon-briSBUhs.js";import{a as Y,d as pe}from"./request.helper-D1MGDj_g.js";import{v as et}from"./vi-wtEGj-yP.js";import{f as tt}from"./formatDistance-Cx_XM85T.js";import{r as at}from"./ChevronDownIcon-1IFWtljn.js";import{r as nt,a as ot}from"./EyeIcon-ByucquJJ.js";import{n as lt}from"./util.number-CuqvV8jo.js";function it(t,s){return t===s}var st=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(st||{}),rt=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(rt||{}),ut=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ut||{});function dt(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let ve=Symbol("ListboxContext");function Q(t){let s=ye(ve,null);if(s===null){let a=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Q),a}return s}let ct=z({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>it},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:s,attrs:a,emit:u}){let o=T(1),b=T(null),e=T(null),v=T(null),h=T([]),f=T(""),k=T(null),r=T(1);function p(l=c=>c){let c=k.value!==null?h.value[k.value]:null,m=Je(l(h.value.slice()),P=>R(P.dataRef.domRef)),x=c?m.indexOf(c):null;return x===-1&&(x=null),{options:m,activeOptionIndex:x}}let d=S(()=>t.multiple?1:0),[C,N]=De(S(()=>t.modelValue),l=>u("update:modelValue",l),S(()=>t.defaultValue)),M=S(()=>C.value===void 0?I(d.value,{1:[],0:void 0}):C.value),i={listboxState:o,value:M,mode:d,compare(l,c){if(typeof t.by=="string"){let m=t.by;return(l==null?void 0:l[m])===(c==null?void 0:c[m])}return t.by(l,c)},orientation:S(()=>t.horizontal?"horizontal":"vertical"),labelRef:b,buttonRef:e,optionsRef:v,disabled:S(()=>t.disabled),options:h,searchQuery:f,activeOptionIndex:k,activationTrigger:r,closeListbox(){t.disabled||o.value!==1&&(o.value=1,k.value=null)},openListbox(){t.disabled||o.value!==0&&(o.value=0)},goToOption(l,c,m){if(t.disabled||o.value===1)return;let x=p(),P=je(l===D.Specific?{focus:D.Specific,id:c}:{focus:l},{resolveItems:()=>x.options,resolveActiveIndex:()=>x.activeOptionIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.disabled});f.value="",k.value=P,r.value=m??1,h.value=x.options},search(l){if(t.disabled||o.value===1)return;let c=f.value!==""?0:1;f.value+=l.toLowerCase();let m=(k.value!==null?h.value.slice(k.value+c).concat(h.value.slice(0,k.value+c)):h.value).find(P=>P.dataRef.textValue.startsWith(f.value)&&!P.dataRef.disabled),x=m?h.value.indexOf(m):-1;x===-1||x===k.value||(k.value=x,r.value=1)},clearSearch(){t.disabled||o.value!==1&&f.value!==""&&(f.value="")},registerOption(l,c){let m=p(x=>[...x,{id:l,dataRef:c}]);h.value=m.options,k.value=m.activeOptionIndex},unregisterOption(l){let c=p(m=>{let x=m.findIndex(P=>P.id===l);return x!==-1&&m.splice(x,1),m});h.value=c.options,k.value=c.activeOptionIndex,r.value=1},theirOnChange(l){t.disabled||N(l)},select(l){t.disabled||N(I(d.value,{0:()=>l,1:()=>{let c=V(i.value.value).slice(),m=V(l),x=c.findIndex(P=>i.compare(m,V(P)));return x===-1?c.push(m):c.splice(x,1),c}}))}};Ee([e,v],(l,c)=>{var m;i.closeListbox(),We(c,Ge.Loose)||(l.preventDefault(),(m=R(e))==null||m.focus())},S(()=>o.value===0)),ge(ve,i),qe(S(()=>I(o.value,{0:K.Open,1:K.Closed})));let B=S(()=>{var l;return(l=R(e))==null?void 0:l.closest("form")});return J(()=>{ee([B],()=>{if(!B.value||t.defaultValue===void 0)return;function l(){i.theirOnChange(t.defaultValue)}return B.value.addEventListener("reset",l),()=>{var c;(c=B.value)==null||c.removeEventListener("reset",l)}},{immediate:!0})}),()=>{let{name:l,modelValue:c,disabled:m,form:x,...P}=t,j={open:o.value===0,disabled:m,value:M.value};return ne(A,[...l!=null&&M.value!=null?Ne({[l]:M.value}).map(([ae,fe])=>ne(Ve,Me({features:ze.Hidden,key:ae,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:x,disabled:m,name:ae,value:fe}))):[],q({ourProps:{},theirProps:{...a,...Be(P,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:j,slots:s,attrs:a,name:"Listbox"})])}}}),pt=z({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:s,slots:a,expose:u}){var o;let b=(o=t.id)!=null?o:`headlessui-listbox-button-${te()}`,e=Q("ListboxButton");u({el:e.buttonRef,$el:e.buttonRef});function v(r){switch(r.key){case $.Space:case $.Enter:case $.ArrowDown:r.preventDefault(),e.openListbox(),E(()=>{var p;(p=R(e.optionsRef))==null||p.focus({preventScroll:!0}),e.value.value||e.goToOption(D.First)});break;case $.ArrowUp:r.preventDefault(),e.openListbox(),E(()=>{var p;(p=R(e.optionsRef))==null||p.focus({preventScroll:!0}),e.value.value||e.goToOption(D.Last)});break}}function h(r){switch(r.key){case $.Space:r.preventDefault();break}}function f(r){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),E(()=>{var p;return(p=R(e.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(r.preventDefault(),e.openListbox(),dt(()=>{var p;return(p=R(e.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let k=Ie(S(()=>({as:t.as,type:s.type})),e.buttonRef);return()=>{var r,p;let d={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{...C}=t,N={ref:e.buttonRef,id:b,type:k.value,"aria-haspopup":"listbox","aria-controls":(r=R(e.optionsRef))==null?void 0:r.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(p=R(e.labelRef))==null?void 0:p.id,b].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:v,onKeyup:h,onClick:f};return q({ourProps:N,theirProps:C,slot:d,attrs:s,slots:a,name:"ListboxButton"})}}}),vt=z({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:s,slots:a,expose:u}){var o;let b=(o=t.id)!=null?o:`headlessui-listbox-options-${te()}`,e=Q("ListboxOptions"),v=T(null);u({el:e.optionsRef,$el:e.optionsRef});function h(r){switch(v.value&&clearTimeout(v.value),r.key){case $.Space:if(e.searchQuery.value!=="")return r.preventDefault(),r.stopPropagation(),e.search(r.key);case $.Enter:if(r.preventDefault(),r.stopPropagation(),e.activeOptionIndex.value!==null){let p=e.options.value[e.activeOptionIndex.value];e.select(p.dataRef.value)}e.mode.value===0&&(e.closeListbox(),E(()=>{var p;return(p=R(e.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case I(e.orientation.value,{vertical:$.ArrowDown,horizontal:$.ArrowRight}):return r.preventDefault(),r.stopPropagation(),e.goToOption(D.Next);case I(e.orientation.value,{vertical:$.ArrowUp,horizontal:$.ArrowLeft}):return r.preventDefault(),r.stopPropagation(),e.goToOption(D.Previous);case $.Home:case $.PageUp:return r.preventDefault(),r.stopPropagation(),e.goToOption(D.First);case $.End:case $.PageDown:return r.preventDefault(),r.stopPropagation(),e.goToOption(D.Last);case $.Escape:r.preventDefault(),r.stopPropagation(),e.closeListbox(),E(()=>{var p;return(p=R(e.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case $.Tab:r.preventDefault(),r.stopPropagation();break;default:r.key.length===1&&(e.search(r.key),v.value=setTimeout(()=>e.clearSearch(),350));break}}let f=Qe(),k=S(()=>f!==null?(f.value&K.Open)===K.Open:e.listboxState.value===0);return()=>{var r,p;let d={open:e.listboxState.value===0},{...C}=t,N={"aria-activedescendant":e.activeOptionIndex.value===null||(r=e.options.value[e.activeOptionIndex.value])==null?void 0:r.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(p=R(e.buttonRef))==null?void 0:p.id,"aria-orientation":e.orientation.value,id:b,onKeydown:h,role:"listbox",tabIndex:0,ref:e.optionsRef};return q({ourProps:N,theirProps:C,slot:d,attrs:s,slots:a,features:se.RenderStrategy|se.Static,visible:k.value,name:"ListboxOptions"})}}}),mt=z({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:s,attrs:a,expose:u}){var o;let b=(o=t.id)!=null?o:`headlessui-listbox-option-${te()}`,e=Q("ListboxOption"),v=T(null);u({el:v,$el:v});let h=S(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===b:!1),f=S(()=>I(e.mode.value,{0:()=>e.compare(V(e.value.value),V(t.value)),1:()=>V(e.value.value).some(l=>e.compare(V(l),V(t.value)))})),k=S(()=>I(e.mode.value,{1:()=>{var l;let c=V(e.value.value);return((l=e.options.value.find(m=>c.some(x=>e.compare(V(x),V(m.dataRef.value)))))==null?void 0:l.id)===b},0:()=>f.value})),r=Fe(v),p=S(()=>({disabled:t.disabled,value:t.value,get textValue(){return r()},domRef:v}));J(()=>e.registerOption(b,p)),be(()=>e.unregisterOption(b)),J(()=>{ee([e.listboxState,f],()=>{e.listboxState.value===0&&f.value&&I(e.mode.value,{1:()=>{k.value&&e.goToOption(D.Specific,b)},0:()=>{e.goToOption(D.Specific,b)}})},{immediate:!0})}),he(()=>{e.listboxState.value===0&&h.value&&e.activationTrigger.value!==0&&E(()=>{var l,c;return(c=(l=R(v))==null?void 0:l.scrollIntoView)==null?void 0:c.call(l,{block:"nearest"})})});function d(l){if(t.disabled)return l.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),E(()=>{var c;return(c=R(e.buttonRef))==null?void 0:c.focus({preventScroll:!0})}))}function C(){if(t.disabled)return e.goToOption(D.Nothing);e.goToOption(D.Specific,b)}let N=He();function M(l){N.update(l)}function i(l){N.wasMoved(l)&&(t.disabled||h.value||e.goToOption(D.Specific,b,0))}function B(l){N.wasMoved(l)&&(t.disabled||h.value&&e.goToOption(D.Nothing))}return()=>{let{disabled:l}=t,c={active:h.value,selected:f.value,disabled:l},{value:m,disabled:x,...P}=t,j={id:b,ref:v,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":f.value,disabled:void 0,onClick:d,onFocus:C,onPointerenter:M,onMouseenter:M,onPointermove:i,onMousemove:i,onPointerleave:B,onMouseleave:B};return q({ourProps:j,theirProps:P,slot:c,attrs:a,slots:s,name:"ListboxOption"})}}});function ft(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}const gt={class:"relative mt-2"},bt={class:"flex items-center"},ht={class:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"},yt={class:"flex items-center"},xt=z({__name:"Table.header",props:{options:{},value:{}},emits:["update:modelValue"],setup(t,{emit:s}){const u=T(t.value),o=v=>u.value.includes(v),b=S(()=>u.value.length),e=s;return(v,h)=>(_(),Z(w(ct),{as:"div",modelValue:u.value,"onUpdate:modelValue":[h[0]||(h[0]=f=>u.value=f),h[1]||(h[1]=f=>e("update:modelValue",f))],multiple:""},{default:g(()=>[n("div",gt,[y(w(pt),{class:"relative cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 focus:outline-none focus:ring-2 focus:ring-cerulean-500 sm:text-sm sm:leading-6"},{default:g(()=>[n("span",bt,O(b.value?v.$t("table.selected",{count:b.value}):v.$t("table.select_header")),1),n("span",ht,[y(w(ft),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),y(ue,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:g(()=>[y(w(vt),{class:"absolute z-[10] mt-1 max-h-56 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-slate-950 ring-opacity-5 focus:outline-none sm:text-sm"},{default:g(()=>[(_(!0),L(A,null,U(v.options,f=>(_(),Z(w(mt),{as:"template",key:f.value,value:f},{default:g(({active:k})=>[n("li",{class:H([k?"bg-cerulean-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[n("div",yt,[n("span",{class:H([o(f)?"font-semibold":"font-normal","ml-3 block truncate"])},O(v.$t(f.text)),3)]),o(f)?(_(),L("span",{key:0,class:H([k?"text-white":"text-cerulean-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[y(w(Xe),{class:"h-5 w-5","aria-hidden":"true"})],2)):xe("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}});function wt(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z","clip-rule":"evenodd"}),n("path",{"fill-rule":"evenodd",d:"M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z","clip-rule":"evenodd"})])}function _t(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"}),n("path",{"fill-rule":"evenodd",d:"M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}function kt(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule":"evenodd"})])}function Ot(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})])}const St={class:"flex items-center justify-between border-t border-gray-800 dark:border-zinc-900 bg-white dark:bg-zinc-900 dark:text-gray-50 py-3 px-2"},Lt=n("div",{class:"flex flex-1 justify-between sm:hidden"},[n("a",{href:"#",class:"relative inline-flex items-center rounded-md border border-alabaster-500 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Previous"),n("a",{href:"#",class:"relative ml-3 inline-flex items-center rounded-md border border-alabaster-500 bg-white dark:text-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Next")],-1),Ct={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},$t={class:"flex items-center gap-x-1"},Pt={class:"text-sm text-gray-900 dark:text-gray-50"},Tt=["value"],Rt={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},Dt=["disabled"],Nt=n("span",{class:"sr-only"},"First",-1),Vt=["disabled"],zt=n("span",{class:"sr-only"},"Previous",-1),Mt=["disabled","onClick"],Bt=["disabled"],It=n("span",{class:"sr-only"},"Next",-1),jt=["disabled"],Et=n("span",{class:"sr-only"},"First",-1),Ft=z({__name:"Table.footer",props:{pagination:{},paginationOptions:{}},setup(t){const s=[5,10,25,50,100];return(a,u)=>(_(),L("div",St,[Lt,n("div",Ct,[n("div",$t,[n("p",Pt,O(a.$t("table.show",{from:a.pagination.pageSize*(a.pagination.pageNumber-1)+1,to:Math.min(a.pagination.pageSize*a.pagination.pageNumber,a.pagination.totalRecords),total:a.pagination.totalRecords})),1),we(n("select",{"onUpdate:modelValue":u[0]||(u[0]=o=>a.pagination.pageSize=o),onChange:u[1]||(u[1]=()=>{a.paginationOptions.pageSize=a.pagination.pageSize}),class:"inline-flex justify-center gap-x-1.5 rounded-md bg-white py-1 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50"},[(_(),L(A,null,U(s,o=>n("option",{value:o,key:o},O(o),9,Tt)),64))],544),[[_e,a.pagination.pageSize]])]),n("div",null,[n("nav",Rt,[n("button",{type:"button",disabled:a.pagination.firstPage===a.pagination.pageNumber,onClick:u[2]||(u[2]=()=>{a.paginationOptions.pageNumber=a.pagination.firstPage}),class:"disabled:bg-gray-50 relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[Nt,y(w(wt),{class:"h-5 w-5","aria-hidden":"true"})],8,Dt),n("button",{type:"button",disabled:a.pagination.previousPage===a.pagination.pageNumber,onClick:u[3]||(u[3]=()=>{a.paginationOptions.pageNumber=a.pagination.previousPage}),class:"disabled:bg-gray-50 relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[zt,y(w(kt),{class:"h-5 w-5","aria-hidden":"true"})],8,Vt),(_(!0),L(A,null,U(a.pagination.totalPages,o=>(_(),L("button",{key:o,disabled:o===a.pagination.pageNumber,onClick:()=>{a.paginationOptions.pageNumber=o},class:"disabled:bg-gray-50 relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},O(o),9,Mt))),128)),n("button",{type:"button",disabled:a.pagination.nextPage===a.pagination.pageNumber,onClick:u[4]||(u[4]=()=>{a.paginationOptions.pageNumber=a.pagination.nextPage}),class:"disabled:bg-gray-50 relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[It,y(w(Ye),{class:"h-5 w-5","aria-hidden":"true"})],8,Bt),n("button",{type:"button",disabled:a.pagination.lastPage===a.pagination.pageNumber,onClick:u[5]||(u[5]=()=>{a.paginationOptions.pageNumber=a.pagination.lastPage}),class:"disabled:bg-gray-50 relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[Et,y(w(_t),{class:"h-5 w-5","aria-hidden":"true"})],8,jt)])])])]))}}),Ht=z({__name:"Table.active",props:{item:{},fetch:{type:Function},route:{}},setup(t){const s=t,a=async()=>{s.item.enable=!s.item.enable;const u=await Y(`${de("api."+s.route)}/${s.item.id}`,s.item);(u==null?void 0:u.isError)==!1&&(await s.fetch(),ce(F.global.t("message.update_success")))};return(u,o)=>u.item.enable?(_(),L("button",{key:0,onClick:a,class:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20 whitespace-nowrap"},O(u.$t("content.active")),1)):(_(),L("button",{key:1,onClick:a,class:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20 whitespace-nowrap"},O(u.$t("content.inactive")),1))}}),At={class:"group"},Zt={class:"group-hover:hidden whitespace-nowrap"},Ut={class:"hidden group-hover:block whitespace-nowrap"},re=z({__name:"Table.datatime",props:{date:{}},setup(t){const s=t,a=S(()=>{const o=new Date(s.date);return ke(o,7)}),u=S(()=>{switch(String(F.global.locale.value)){case"vi-VN":return et;case"en-US":return oe;default:return oe}});return(o,b)=>(_(),L("div",At,[n("div",Zt,O(w(tt)(new Date(a.value),new Date,{addSuffix:!0,locale:u.value})),1),n("div",Ut,O(w(X)(new Date(a.value),"Pp",{locale:u.value})),1)]))}});function Kt(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function qt(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function me(t,s){return _(),L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const Qt={class:"flex gap-x-1 divide-x-2"},Wt=z({__name:"Table.action",props:{item:{},route:{},fetch:{type:Function}},setup(t){const s=Oe();Se();const a=t,u=async()=>{if(confirm(F.global.t("message.confirm_delete",{name:le(a.item.id)}))){const v=await pe(`/api/${a.route}/${a.item.id}`);v!=null&&v.isError?Le(F.global.t("error.server_error.message",{name:le(a.route)})):await a.fetch()}},o=()=>{navigator.clipboard.writeText(a.item.id),ce(F.global.t("message.copy_success",{name:"Id"}))},b=()=>{s.push(`/admin/${a.route}/${a.item.id}`)};return(e,v)=>(_(),L("div",Qt,[n("button",{type:"button",onClick:u,class:"!text-red-600"},[y(w(me),{class:"h-5 w-5 !text-red-600"})]),n("button",{class:"pl-1",onClick:o},[y(w(Kt),{class:"h-5 w-5"})]),n("button",{type:"button",onClick:b,class:"pl-1"},[y(w(qt),{class:"h-5 w-5"})])]))}}),Gt={class:"py-1"},Jt=["onClick"],Xt={class:"whitespace-nowrap"},Yt=z({__name:"Table.selected-item",props:{total:{},items:{},route:{},fetch:{type:Function}},setup(t){const s=t,a=de("api."+s.route),u=[{text:"table.disable_all",action:async()=>{s.items.map(o=>o.enable=!1),await Y(a,s.items),await s.fetch()},icon:nt,class:"text-amber-600"},{text:"table.delete_all",action:async()=>{await pe(a,s.items),await s.fetch()},icon:Ot,class:"text-red-600"},{text:"table.enable_all",action:async()=>{s.items.map(o=>o.enable=!0),await Y(a,s.items),await s.fetch()},icon:ot,class:"text-green-600"}];return(o,b)=>(_(),Z(w(Ke),{as:"div",class:"relative inline-block text-left mt-2"},{default:g(()=>[y(w(Ae),{disabled:o.total===0,class:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 hover:enabled:bg-gray-50 disabled:bg-gray-100 disabled:ring-0 disabled:text-gray-600"},{default:g(()=>[Ce(O(o.total?o.$t("table.select_rows",{count:o.total}):o.$t("table.select_action"))+" ",1),y(w(at),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1},8,["disabled"]),y(ue,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:g(()=>[y(w(Ze),{class:"absolute right-0 z-[10] mt-2 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-slate-950 ring-opacity-5 focus:outline-none"},{default:g(()=>[n("div",Gt,[(_(),L(A,null,U(u,e=>y(w(Ue),{key:e.text},{default:g(({active:v})=>[n("button",{onClick:e.action,class:H([v?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm w-full"])},[(_(),Z($e(e.icon),{class:H(["mr-3 h-5 w-5 group-hover:text-gray-500",[e.class]]),"aria-hidden":"true"},null,8,["class"])),n("span",Xt,O(o.$t(e.text)),1)],10,Jt)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}))}}),ea={class:"bg-white dark:bg-transparent p-2 border border-gray-200 dark:border-black-700 dark:bg-zinc-950"},ta={class:"pb-2 flex gap-x-2"},aa={class:"truncate max-w-28"},na={class:"line-clamp-1 w-40 hover:line-clamp-2"},oa={class:"line-clamp-1 w-40 hover:line-clamp-1"},la={class:"line-clamp-1 w-40 hover:line-clamp-2"},ia={class:"line-clamp-1 w-40 hover:line-clamp-2"},sa={class:"line-clamp-1 w-40 hover:line-clamp-2"},ra={class:"line-clamp-1 w-40 hover:line-clamp-2"},ua=["innerHTML"],da=["innerHTML"],ca=["src","alt"],pa={class:"whitespace-nowrap"},va=["onClick"],$a=z({__name:"TableView",props:{headers:{},items:{},pagination:{},paginationOptions:{},route:{},fetch:{type:Function},expandComponent:{}},setup(t){const s=t,a=T(s.items),u=d=>d.value==="score"?"score-column":"dark:!bg-zinc-900 dark:!text-gray-50 dark:!border-gray-800",o=d=>d==="score"?"score-column":"dark:!bg-zinc-800 dark:!text-gray-50 dark:!border-gray-800",b=T([]),e=S(()=>r.value.map(d=>({...d,text:F.global.t(d.text)}))),v=d=>{a.value=a.value.filter(C=>C.id!==d)},h=(d,C={hours:0,minutes:0,seconds:0})=>X(new Date().setHours(d&&d.hours||C.hours,d&&d.minutes||C.minutes,d&&d.seconds||C.seconds),"HH:mm:ss");console.log(h({hours:15,minutes:0,seconds:0},{hours:0,minutes:0,seconds:0}));const r=T([...s.headers]),p=S(()=>b.value.length);return ee(()=>s.items,d=>{a.value=d}),(d,C)=>{const N=ie("expandComponent"),M=ie("EasyDataTable");return _(),L("div",ea,[n("div",ta,[y(xt,{value:r.value,options:d.headers,"onUpdate:modelValue":C[0]||(C[0]=i=>r.value=i)},null,8,["value","options"]),y(Yt,Pe({total:p.value,items:b.value,route:d.route,fetch:d.fetch},{}),null,16,["total","items","route","fetch"])]),y(M,{"items-selected":b.value,"onUpdate:itemsSelected":C[1]||(C[1]=i=>b.value=i),headers:e.value,items:a.value,"hide-footer":!0,"header-item-class-name":u,"body-item-class-name":o,class:"dark:!border-zinc-900","no-hover":""},Te({"item-id":g(({id:i})=>[n("p",aa,O(i),1)]),"item-title":g(({title:i})=>[n("p",na,O(i),1)]),"item-slug":g(({slug:i})=>[n("p",oa,O(i),1)]),"item-desc":g(({desc:i})=>[n("p",la,O(i),1)]),"item-content":g(({content:i})=>[n("p",ia,O(i),1)]),"item-label":g(({label:i})=>[n("p",sa,O(i),1)]),"item-name":g(({name:i})=>[n("p",ra,O(i),1)]),"item-addressEmbed":g(({addressEmbed:i})=>[n("div",{class:"w-40 h-40 overflow-hidden",innerHTML:i},null,8,ua)]),"item-videoEmbed":g(({videoEmbed:i})=>[n("div",{class:"w-40 h-40 overflow-hidden",innerHTML:i},null,8,da)]),"item-imageUrl":g(({imageUrl:i})=>[n("img",{src:w(Re)(i),alt:i,class:"w-10 h-10 object-cover"},null,8,ca)]),"item-enable":g(i=>[y(Ht,{item:i,fetch:d.fetch,route:d.route},null,8,["item","fetch","route"])]),"item-size":g(({size:i})=>[n("p",pa,O(w(lt)(Number(i))),1)]),"item-date":g(({date:i})=>[n("div",null,O(w(X)(new Date(i),"dd/m/yyyy")),1)]),"item-time":g(({time:i})=>[n("div",null,O(h(JSON.parse(i))),1)]),"item-createdAt":g(({createdAt:i})=>[y(re,{date:i},null,8,["date"])]),"item-updatedAt":g(({updatedAt:i})=>[y(re,{date:i},null,8,["date"])]),"item-action":g(i=>[y(Wt,W(G({item:i,route:d.route,fetch:d.fetch})),null,16)]),"item-delete":g(({id:i})=>[n("button",{onClick:B=>v(i)},[y(w(me),{class:"w-5 h-5"})],8,va)]),_:2},[d.expandComponent?{name:"expand",fn:g(i=>[y(N,W(G({item:i,route:d.route})),null,16)]),key:"0"}:void 0]),1032,["items-selected","headers","items"]),y(Ft,W(G({pagination:d.pagination,paginationOptions:d.paginationOptions})),null,16)])}}});export{$a as _};
