import{u as $}from"./useAsyncValidator-BiKHsQdo.js";import{d as b,a3 as w,w as y,aI as v,f as B,x as N,D as U,o as k,c as C,i as l,h as r,u as e,j as n,t as d}from"./index-DTg46rQC.js";import{_,a as D,b as S,c as T}from"./Form.layout.vue_vue_type_script_setup_true_lang-cOmaJ-8J.js";import{_ as h}from"./Form.input.vue_vue_type_script_setup_true_lang-CX-Al21t.js";import{g as j,a as A}from"./request.helper-DN6JUNty.js";import{r as E}from"./tag-O4jsFEbM.js";import"./index-B9LkKbxO.js";import"./form-DLmZ15FH.js";import"./keyboard-BpG9qIHi.js";import"./EyeIcon-B-aCzrou.js";import"./enum-CD4clsnU.js";const a=b({}),F=async t=>{j("/api/tags/"+t).then(o=>{o!=null&&o.data&&(a.value=o.data)})},I=async()=>{const t=await A("/api/tags/"+a.value.id,a.value);t!=null&&t.data&&w(t.message)};y(a,t=>{a.value.slug=v(t.title)},{deep:!0});const P=B({__name:"TagEditView",setup(t){const o=N(),{pass:V,errorFields:f}=$(a,E);return U(async()=>{await F(String(o.params.id))}),(i,s)=>(k(),C(T,{submit:e(I)},{default:l(()=>[r(_,null,{default:l(()=>{var u,p;return[r(D,{"has-error":[!!((p=(u=e(f))==null?void 0:u.title)!=null&&p.length)]},{heading:l(()=>[n(d(i.$t("form.heading")),1)]),content:l(()=>{var c,g;return[r(h,{modelValue:e(a).title,"onUpdate:modelValue":s[0]||(s[0]=m=>e(a).title=m),"has-error":!!((g=(c=e(f))==null?void 0:c.title)!=null&&g.length),placeholder:i.$t("form.place_holder.title")},{default:l(()=>[n(d(i.$t("form.title")),1)]),_:1},8,["modelValue","has-error","placeholder"]),r(h,{modelValue:e(a).slug,"onUpdate:modelValue":s[1]||(s[1]=m=>e(a).slug=m),disabled:!0,placeholder:i.$t("form.place_holder.slug")},{default:l(()=>[n(d(i.$t("form.slug")),1)]),_:1},8,["modelValue","placeholder"])]}),_:1},8,["has-error"])]}),_:1}),r(_,null,{default:l(()=>[r(S,{modelValue:e(a).enable,"onUpdate:modelValue":s[2]||(s[2]=u=>e(a).enable=u),pass:e(V)},null,8,["modelValue","pass"])]),_:1})]),_:1},8,["submit"]))}});export{P as default};
