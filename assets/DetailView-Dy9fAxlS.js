import{S as te,a as ae}from"./SVG.twitter.x-B4mpVE-W.js";import{a7 as H,a8 as P,o as i,a as c,b as a,f as y,d as h,D as Y,t as g,F as x,g as w,h as f,u,m as D,w as j,c as N,N as z,J as ne,a6 as se,A as F,B as O,y as W,p as U,P as E,z as oe,a9 as A,a4 as G,r as le,O as ie,aa as re,x as ce,R as de}from"./index-Cz9B68HP.js";import{g as L}from"./request.helper-D1MGDj_g.js";import{_ as ue}from"./Blog.item.vue_vue_type_script_setup_true_lang-D_Gd3yrl.js";import{E as me}from"./enum-CD4clsnU.js";import{r as J}from"./PaperAirplaneIcon-Bh3QooYj.js";import{v as Q}from"./v4-CQkTLCs1.js";import{f as ge}from"./formatDistance-Cx_XM85T.js";import{v as fe}from"./vi-wtEGj-yP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function he(n,e){const o=(e==null?void 0:e.additionalDigits)??2,t=be(n);let l;if(t.date){const d=xe(t.date,o);l=we(d.restDateString,d.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const s=l.getTime();let r=0,p;if(t.time&&(r=ye(t.time),isNaN(r)))return new Date(NaN);if(t.timezone){if(p=$e(t.timezone),isNaN(p))return new Date(NaN)}else{const d=new Date(s+r),m=new Date(0);return m.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),m.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),m}return new Date(s+r+p)}const T={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function be(n){const e={},o=n.split(T.dateTimeDelimiter);let t;if(o.length>2)return e;if(/:/.test(o[0])?t=o[0]:(e.date=o[0],t=o[1],T.timeZoneDelimiter.test(e.date)&&(e.date=n.split(T.timeZoneDelimiter)[0],t=n.substr(e.date.length,n.length))),t){const l=T.timezone.exec(t);l?(e.time=t.replace(l[1],""),e.timezone=l[1]):e.time=t}return e}function xe(n,e){const o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),t=n.match(o);if(!t)return{year:NaN,restDateString:""};const l=t[1]?parseInt(t[1]):null,s=t[2]?parseInt(t[2]):null;return{year:s===null?l:s*100,restDateString:n.slice((t[1]||t[2]).length)}}function we(n,e){if(e===null)return new Date(NaN);const o=n.match(pe);if(!o)return new Date(NaN);const t=!!o[4],l=$(o[1]),s=$(o[2])-1,r=$(o[3]),p=$(o[4]),d=$(o[5])-1;if(t)return Te(e,p,d)?ke(e,p,d):new Date(NaN);{const m=new Date(0);return!Ne(e,s,r)||!Ce(e,l)?new Date(NaN):(m.setUTCFullYear(e,s,Math.max(l,r)),m)}}function $(n){return n?parseInt(n):1}function ye(n){const e=n.match(_e);if(!e)return NaN;const o=S(e[1]),t=S(e[2]),l=S(e[3]);return Ie(o,t,l)?o*H+t*P+l*1e3:NaN}function S(n){return n&&parseFloat(n.replace(",","."))||0}function $e(n){if(n==="Z")return 0;const e=n.match(ve);if(!e)return 0;const o=e[1]==="+"?-1:1,t=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return ze(t,l)?o*(t*H+l*P):NaN}function ke(n,e,o){const t=new Date(0);t.setUTCFullYear(n,0,4);const l=t.getUTCDay()||7,s=(e-1)*7+o+1-l;return t.setUTCDate(t.getUTCDate()+s),t}const De=[31,null,31,30,31,30,31,31,30,31,30,31];function X(n){return n%400===0||n%4===0&&n%100!==0}function Ne(n,e,o){return e>=0&&e<=11&&o>=1&&o<=(De[e]||(X(n)?29:28))}function Ce(n,e){return e>=1&&e<=(X(n)?366:365)}function Te(n,e,o){return e>=1&&e<=53&&o>=0&&o<=6}function Ie(n,e,o){return n===24?e===0&&o===0:o>=0&&o<60&&e>=0&&e<60&&n>=0&&n<25}function ze(n,e){return e>=0&&e<=59}function Se(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z","clip-rule":"evenodd"})])}function Ue(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z","clip-rule":"evenodd"})])}function Me(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Ve(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function Ze(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}const Be={class:"pb-10"},Le={class:"py-4"},Re={class:"font-bold text-slate-950"},He={class:"flex pl-2 gap-y-2 flex-col mt-2"},Pe={class:"flex gap-x-1 items-center"},Ye={class:"font-medium capitalize"},je=["href"],Fe={class:"py-4"},Oe={class:"font-bold text-slate-950"},We={class:"flex pl-2 gap-y-2 flex-col mt-2"},Ee={class:"flex gap-x-1 items-center"},Ae={class:"font-medium text-cerulean-500"},Ge={class:"mt-2 pl-2 flex flex-col gap-1"},Je={class:"flex gap-x-2 items-center"},Qe={class:"flex gap-x-2 items-center"},Xe={key:0},qe=y({__name:"Detail.contact",setup(n){const e=h([]),o=h([]);return Y(()=>{L("/api/branches").then(t=>{t!=null&&t.data&&(e.value=t.data)}),L("/api/groupurls/label/social").then(t=>{t!=null&&t.data&&(o.value=t.data.urls)})}),(t,l)=>(i(),c("div",Be,[a("div",Le,[a("div",Re,g(t.$t("content.assistance_contact"))+":",1),a("div",He,[(i(!0),c(x,null,w(o.value,s=>(i(),c("div",{key:s.id},[a("div",Pe,[f(u(Me),{class:"w-3 h-3"}),a("span",Ye,g(s.label)+" :",1),a("a",{href:s.type+s.slug,class:"text-gray-600"},g(s.slug),9,je)])]))),128))])]),a("div",Fe,[a("div",Oe,g(t.$t("content.directly_contact"))+":",1),a("div",We,[(i(!0),c(x,null,w(e.value,(s,r)=>(i(),c("div",{key:s.name},[a("div",Ee,[f(u(Ve),{class:"w-5 h-5"}),a("span",Ae,g(`${t.$t("content.branch")} ${r+1}`),1)]),a("div",Ge,[a("div",Je,[f(u(Se),{class:"w-3 h-3 text-rose-500"}),a("span",null,g(`${s.address1} ${s.address2}`),1)]),a("div",Qe,[f(u(Ue),{class:"w-3 h-3 text-green-600"}),a("span",null,g(s.phone1),1),s.phone2?(i(),c("span",Xe,"- "+g(s.phone2),1)):D("",!0)])])]))),128))])])]))}}),Ke={class:"pb-10"},et={class:"text-xl font-bold leading-10 mb-2"},tt={key:0},at={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},nt=y({__name:"RelateView",props:{slug:{}},setup(n){const e=n,o=h([]);return j(()=>e.slug,t=>{t!==void 0&&z("/api/blogs/category/"+e.slug+"?pageSize=3").then(l=>{l!=null&&l.data&&(o.value=l.data.data)})}),(t,l)=>(i(),c("section",Ke,[a("div",null,[a("div",et,g(t.$t("content.related_articles")),1),e?(i(),c("div",at,[(i(!0),c(x,null,w(o.value,s=>(i(),N(ue,{key:s.id,data:s},null,8,["data"]))),128))])):(i(),c("div",tt,g(t.$t("message.not_available")),1))])]))}}),st={class:"max-w-screen-xl xl:mx-auto lg:mx-8 md:mx-6 mx-4 animate-pulse"},ot={class:"flex flex-col gap-y-2"},lt=ne('<svg class="w-10 h-10 text-gray-400 dark:text-zinc-700" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"></path></svg><div class="space-y-1 w-full"><div class="bg-gray-200 dark:bg-zinc-700 w-1/6 h-6 rounded-md"></div><div class="bg-gray-100 dark:bg-zinc-800 w-4/5 h-12 rounded-md"></div></div>',2),it=[lt],q=y({__name:"LoadingCommentView",props:{count:{type:Number,default:5,required:!1}},setup(n){return(e,o)=>(i(),c("section",null,[a("div",st,[a("div",ot,[(i(!0),c(x,null,w(n.count,t=>(i(),c("div",{class:"flex gap-x-3",key:t},it))),128))])])]))}}),C=h([]),rt={pageNumber:1,pageSize:5,firstPage:1,lastPage:1,totalPages:0,totalRecords:0,nextPage:1,previousPage:1},k=h(""),I=h({...rt}),b=h(!1),M=h(!1),V=h({pageNumber:1,pageSize:5,enable:me.ALL}),R=async n=>{M.value||(b.value=!0,z("/api/comments/blog/"+n,V.value).then(e=>{if(e!=null&&e.data){const{data:o,...t}=e.data;C.value=[...C.value,...o],I.value=t,V.value.pageNumber=I.value.nextPage,M.value=I.value.pageNumber===I.value.lastPage}}).finally(()=>b.value=!1))},K=async n=>{se("/api/comments",n).then(e=>{e!=null&&e.data&&(C.value=[...C.value,e.data])})},ct={class:"flex justify-between relative flex-row pt-2"},dt={class:"basis-10"},ut=["src","alt"],mt={class:"basis-[calc(100%-45px)]"},gt={class:"flex flex-col gap-y-1 bg-gray-100 dark:bg-zinc-900 rounded pl-3 pr-2 py-1 w-fit"},ft={class:"font-medium dark:text-gray-200 dark:font-medium text-black-1000"},ht={class:"text-gray-600 text-sm dark:text-gray-100"},pt={class:"flex gap-x-2 mt-1 flex-wrap"},_t={class:"text-sm text-gray-600 font-medium dark:text-gray-100"},vt={key:0,class:"pt-2 pb-1 pr-3 relative"},bt={class:"absolute bottom-5 right-5",type:"submit"},xt={key:0,class:"absolute top-10 bottom-1 left-5 w-5 -z-[1] border-l-2 border-b-2 rounded-bl-lg border-gray-200"},ee=y({__name:"Coment.item",props:{data:{},blogId:{}},setup(n){const{user:e,isLogin:o}=F(),t=n,l=h({...t.data,children:[]}),s=h(!1),r=h(""),p=async()=>{b.value=!0,z("/api/comments/comment/"+t.data.id,V.value).then(m=>{if(m!=null&&m.data){const{data:_,...v}=m.data;l.value.children=[...l.value.children,..._]}}).finally(()=>b.value=!1)},d=async()=>{if(!o)A(G.global.t("message.need_login"));else{const m={blogId:t.blogId,userId:e.id,content:r.value,parentId:t.data.id,id:Q(),enable:!0,left:1,right:1};K(m).finally(()=>r.value="")}};return(m,_)=>(i(),c("div",ct,[a("div",dt,[a("img",{class:"rounded-full object-cover w-10 h-10",src:u(O)(l.value.user.imageUrl),alt:l.value.userId},null,8,ut)]),a("div",mt,[a("div",gt,[a("div",ft,g(l.value.user.fullName),1),a("div",ht,g(l.value.content),1)]),a("div",pt,[a("button",{onClick:_[0]||(_[0]=v=>s.value=!s.value),class:"text-sm font-medium text-gray-600 dark:text-gray-100"}," Trả lời "),a("div",_t,g(u(ge)(u(he)(l.value.createdAt),new Date,{addSuffix:!0,locale:u(fe)})),1)]),s.value?(i(),c("div",vt,[a("form",{onSubmit:W(d,["prevent"])},[U(a("textarea",{"onUpdate:modelValue":_[1]||(_[1]=v=>r.value=v),placeholder:"Phản hồi...",class:"dark:bg-zinc-700 bg-gray-100 focus:ring-0 focus:outline-none border-gray-100 border w-full rounded-md resize-none p-2 text-gray-900 dark:text-gray-100 text-sm",rows:"3"},null,512),[[E,r.value]]),a("button",bt,[f(u(J),{class:"w-5- h-5 text-cerulean-600 -rotate-45"})])],32)])):D("",!0),u(b)?(i(),N(q,{key:1})):(i(),c(x,{key:2},[a("button",{onClick:p,class:"text-sm text-gray-600 dark:text-gray-100"}," Xem thêm "),U(a("div",null,[(i(!0),c(x,null,w(m.data.children,v=>(i(),N(ee,{key:v.id,data:v,blogId:m.blogId},null,8,["data","blogId"]))),128))],512),[[oe,!u(b)&&l.value.children.length>0]])],64))]),m.data?(i(),c("div",xt)):D("",!0)]))}}),wt={class:"py-2"},yt={class:"flex gap-x-2 items-center"},$t=a("h4",{class:"text-xl font-semibold py-2 dark:text-gray-200"},"Bình Luận",-1),kt={class:"pt-2 pb-1 pr-3 relative"},Dt={class:"absolute bottom-5 right-5",type:"submit"},Nt=y({__name:"CommentView",props:{blogId:{}},setup(n){const{user:e,isLogin:o}=F(),t=n,l=async()=>{if(!o)A(G.global.t("message.need_login"));else{const s=Q(),r={blogId:t.blogId,userId:e.id,content:k.value,parentId:s,id:s,enable:!0,left:1,right:1};await K(r).finally(()=>k.value="")}};return j(()=>t.blogId,async s=>{s!==void 0&&await R(t.blogId)}),(s,r)=>{const p=le("TheQuestion");return i(),c("section",wt,[a("div",yt,[$t,f(p,{answer:"Bạn chỉ có thể bình luận sau khi đã thuê xe."})]),a("div",kt,[a("form",{onSubmit:W(l,["prevent"])},[U(a("textarea",{"onUpdate:modelValue":r[0]||(r[0]=d=>ie(k)?k.value=d:null),placeholder:"Bình luận...",class:"dark:bg-zinc-700 bg-gray-100 focus:ring-0 focus:outline-none border-gray-100 border w-full rounded-md resize-none p-2 text-gray-900 dark:text-gray-100 text-sm",rows:"3"},null,512),[[E,u(k)]]),a("button",Dt,[f(u(J),{class:"w-5- h-5 text-cerulean-600 -rotate-45"})])],32)]),(i(!0),c(x,null,w(u(C),d=>(i(),N(ee,re({key:d.id,ref_for:!0},{data:d,blogId:s.blogId}),null,16))),128)),u(b)?(i(),N(q,{key:0})):D("",!0),u(M)?D("",!0):(i(),c("button",{key:1,onClick:r[1]||(r[1]=d=>u(R)(s.blogId)),class:"font-medium text-gray-600 mt-3 dark:text-gray-50"},g(s.$t("content.see_more",s.$t("content.comment"))),1))])}}}),Ct={class:"capitalize bg-cerulean-600 text-sm w-fit font-medium text-center rounded text-white py-4 px-4 mb-7.5"},Tt={class:"flex items-center my-4 flex-nowrap"},It={class:"relative mr-3"},zt={class:"flex gap-x-2"},St=["href"],Ut=["href"],Mt={class:"text-2xl font-bold mb-7 text-cerulean-600 capitalize"},Vt={class:"w-full h-[500px]"},Zt=["src","alt"],Bt={class:"py-5"},Lt={class:"text-base leading-6 font-semibold italic text-gray-900 pb-2.5 text-justify"},Rt=["innerHTML"],Ht=["innerHTML"],Qt=y({__name:"DetailView",setup(n){const e=ce(),o=de(),t=new URL(window.location.href),l=async()=>{try{await navigator.clipboard.writeText(String(t)),alert(`Copied: ${String(t)}`)}catch{alert("Cannot copy")}},s=h({});return Y(()=>{z("/api/blogs/slug/"+e.params.slug).then(r=>{r!=null&&r.data?s.value=r.data:o.push("/blogs")})}),(r,p)=>{var d,m,_,v,Z,B;return i(),c("div",null,[a("div",Ct,g(r.$t(String((m=(d=s.value)==null?void 0:d.category)==null?void 0:m.title))),1),a("div",Tt,[a("span",It,g(r.$t("content.share"))+":",1),a("ul",zt,[a("li",null,[a("a",{class:"inline-block",href:`https://www.facebook.com/sharer.php?u=${u(t)}`,target:"_blank",onclick:"window.open(this.href,'targetWindow','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes, width=SomeSize, height=SomeSize'); return false;"},[f(te,{class:"w-5 h-5 fill-cerulean-400"})],8,St)]),a("li",null,[a("a",{class:"inline-block",href:`https://twitter.com/share?url=${u(t)}&text=Hi%20everyone,%20please%20check%20this%20out:%20`,target:"_blank",onclick:"window.open(this.href,'targetWindow','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes, width=SomeSize, height=SomeSize'); return false;"},[f(ae,{class:"w-5 h-5"})],8,Ut)]),a("li",null,[a("button",{class:"inline-block",style:{cursor:"pointer"},onClick:l},[f(u(Ze),{class:"w-5 h-5 text-gray-600"})])])])]),a("h1",Mt,g((_=s.value)==null?void 0:_.title),1),a("div",Vt,[a("img",{class:"w-full rounded-[5px] h-full object-cover",src:u(O)(s.value.imageUrl),alt:s.value.title},null,8,Zt)]),a("div",Bt,[a("h4",Lt,g((v=s.value)==null?void 0:v.desc),1)]),a("div",{class:"py-5",innerHTML:s.value.content},null,8,Rt),a("div",{class:"py-5 flex justify-center",innerHTML:s.value.videoEmbed},null,8,Ht),f(qe),f(Nt,{"blog-id":s.value.id},null,8,["blog-id"]),f(nt,{slug:(B=(Z=s.value)==null?void 0:Z.category)==null?void 0:B.slug},null,8,["slug"])])}}});export{Qt as default};
