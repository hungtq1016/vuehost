import{_ as C,r as z,a as A}from"./EyeIcon-C1B8c7IW.js";import{f as m,d as s,R as B,W as E,a4 as N,w as p,r as R,o as g,a as h,h as n,i as d,b,u as t,a6 as $,a7 as O,A as D,D as I,a8 as V}from"./index-DTg46rQC.js";import{E as F}from"./enum-CD4clsnU.js";import{g as H}from"./request.helper-DN6JUNty.js";import{v as T}from"./v4-CQkTLCs1.js";import"./ChevronRightIcon-C97yppLA.js";import"./vi-EY4sXWwn.js";import"./formatDistance-CRvYeSm7.js";const L={class:"bg-white dark:bg-transparent dark:bg-zinc-950"},S=["onClick"],q=m({__name:"TableClientView",props:{headers:{},items:{},pagination:{},paginationOptions:{},route:{},fetch:{type:Function},expandComponent:{}},setup(o){const a=o,r=s(a.items),i=B(),w=e=>e.value==="score"?"score-column":"dark:!bg-zinc-900 dark:!text-gray-50 dark:!border-gray-800",x=e=>e==="score"?"score-column":"dark:!bg-zinc-800 dark:!text-gray-50 dark:!border-gray-800",y=E(()=>k.value.map(e=>({...e,text:N.global.t(e.text)}))),k=s([...a.headers]);return p(()=>a.items,e=>{r.value=e}),(e,G)=>{const P=R("EasyDataTable");return g(),h("div",L,[n(P,{headers:y.value,items:r.value,"hide-footer":!0,"header-item-class-name":w,"body-item-class-name":x,class:"dark:!border-zinc-900","no-hover":""},{"item-createdAt":d(({createdAt:l})=>[n(C,{date:l},null,8,["date"])]),"item-view":d(({id:l})=>[b("button",{onClick:()=>{t(i).push(`/${e.route}/${l}`)}},[n(t(z),{class:"w-5 h-5"})],8,S)]),_:1},8,["headers","items"]),n(A,$(O({pagination:e.pagination,paginationOptions:e.paginationOptions})),null,16)])}}}),M=[{text:"table.height",value:"height"},{text:"table.weight",value:"weight"},{text:"table.bloodPressure",value:"bloodPressure"},{text:"table.temperature",value:"temperature"},{text:"table.heartBeat",value:"heartBeat"},{text:"table.anamnesis",value:"anamnesis"},{text:"table.diagnosis",value:"diagnosis"},{text:"table.createdAt",value:"createdAt"},{text:"table.view",value:"view"}],u=s({pageNumber:1,pageSize:10,enable:F.ALL}),U={pageNumber:1,pageSize:10,firstPage:1,lastPage:1,totalPages:0,totalRecords:0,nextPage:1,previousPage:1},v=s([{id:T(),enable:!0,birthDay:"",gender:"-1",address:"",height:0,weight:0,bloodPressure:0,temperature:37,heartBeat:0,anamnesis:"",diagnosis:"",userId:"-1",createdAt:"2022-01-01",updatedAt:"2024-01-01"}]),W=s({}),_=s(""),f=s({...U}),c=async()=>{const o={...u.value,...W.value};await H("/api/healthrecords/search/"+_.value,o).then(a=>{if(a!=null&&a.data){const{data:r,...i}=a.data;v.value=r,f.value=i}})};p(u,async()=>{await c()},{deep:!0});const j=b("div",{class:"py-2"},null,-1),te=m({__name:"HealthRecordView",setup(o){const{user:a}=D();return I(async()=>{_.value=a.id,await c()}),(r,i)=>(g(),h("div",null,[j,n(q,V({headers:t(M),items:t(v),pagination:t(f),paginationOptions:t(u),fetch:t(c)},{route:"profile/health-record",key:"health-record"}),null,16)]))}});export{te as default};
