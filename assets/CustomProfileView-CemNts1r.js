import{o as g,a as p,b as e,f as w,A as $,d as b,W as P,D as C,u as r,B as z,t as n,h as m,m as A,y as B,j as R,a1 as G,a2 as S,a3 as D,a4 as v,a5 as V,N as I,w as L,p as k,P as x,R as J}from"./index-DTg46rQC.js";import{f as j,e as U}from"./util.number-CuqvV8jo.js";import{r as O}from"./UserIcon-CmFmSM_8.js";import{r as T}from"./HomeIcon-BZgJSaWr.js";function H(h,a){return g(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})])}function K(h,a){return g(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function E(h,a){return g(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}const W={class:"mb-4 flex items-center gap-3"},X={class:"h-14 w-14 rounded-full"},q=["src","alt"],Q={class:"mb-1.5 font-medium text-black-900 dark:text-gray-50"},Y={class:"flex gap-2.5"},Z={class:"text-sm font-medium hover:text--black-900"},ee={id:"FileUpload",class:"relative mb-5.5 block w-full cursor-pointer appearance-none rounded border border-dashed border-gray-400 bg-gray py-4 px-4 dark:bg-meta-4 sm:py-7.5"},te=["disabled"],ae={class:"flex flex-col items-center justify-center space-y-3"},se={class:"flex h-10 w-10 items-center justify-center rounded-full border"},re=e("p",{class:"text-sm font-medium"},[e("span",{class:"text-black-900"},"Click to upload"),R(" or drag and drop ")],-1),oe=e("p",{class:"mt-1.5 text-sm font-medium"},"SVG, PNG, JPG or GIF",-1),le=e("p",{class:"text-sm font-medium"},"(max, 800 X 800px)",-1),de={key:0,class:"absolute inset-0 bg-white"},ne=["src"],ie={class:"flex justify-end gap-4.5"},ce=["disabled"],ue=w({__name:"Profile.image",setup(h){const{user:a,updateData:f}=$(),y=b(null),i=b(null),l=b(""),_=P(()=>l.value.length!==0),t=b(!1),s=b({});C(()=>{s.value={...a},l.value=a.imageUrl});const o=c=>{var u,N;const d=c.target;!d||!((u=d.files)!=null&&u[0])||(i.value=(N=d.files)==null?void 0:N[0],l.value=URL.createObjectURL(i.value),t.value=!0)};async function F(){if(!i.value)return;const c=new FormData;c.append("file",i.value),G("/api/images",c).then(d=>{d!=null&&d.data.data&&(l.value=d.data.data.path,s.value.imageUrl=l.value,S("/api/users/"+a.id,s.value).then(u=>{u!=null&&u.data&&(f(u.data),D(v.global.t("message.update_success")))}).catch(()=>V(v.global.t("message.server_error"))))}).catch(()=>V(v.global.t("message.server_error")))}const M=()=>{i.value=null,y.value=null,l.value=""};return(c,d)=>(g(),p("form",{onSubmit:B(F,["prevent"])},[e("div",W,[e("div",X,[e("img",{src:r(z)(r(a).imageUrl),alt:r(a).fullName},null,8,q)]),e("div",null,[e("span",Q,n(c.$t("content.update_image")),1),e("span",Y,[e("button",{onClick:M,type:"button",class:"text-sm font-medium hover:text--black-900"},n(c.$t("content.delete")),1),e("button",Z,n(c.$t("content.update")),1)])])]),e("div",ee,[e("input",{type:"file",accept:"image/*",disabled:_.value,onChange:o,class:"absolute inset-0 z-50 m-0 h-full w-full cursor-pointer p-0 opacity-0 outline-none"},null,40,te),e("div",ae,[e("span",se,[m(r(H),{class:"w-4 h-4"})]),re,oe,le]),_.value?(g(),p("div",de,[e("img",{src:t.value?l.value:r(z)(l.value),alt:"review-image",class:"w-full h-full object-cover"},null,8,ne)])):A("",!0)]),e("div",ie,[e("button",{disabled:!_.value,class:"bg-cerulean-600 text-cerulean-100 flex justify-center rounded px-6 py-2 font-medium hover:bg-opacity-90 dark:bg-cerulean-500 dark:text-cerulean-50 disabled:!bg-cerulean-100 disabled:!text-cerulean-600",type:"submit"}," Save ",8,ce)])],32))}}),be={class:"mb-5.5 grid grid-cols-1 gap-5.5 sm:grid-cols-2"},me={class:"mb-3 block text-sm font-medium text-black-900 dark:text-gray-50",for:"fullName"},ge={class:"relative"},pe={class:"absolute left-4.5 top-4"},he=["placeholder"],fe={class:"mb-3 block text-sm font-medium text-black-900 dark:text-gray-50",for:"phoneNumber"},_e={class:"relative"},ve={class:"absolute left-4.5 top-4"},ye=["placeholder"],ke={class:"mb-3 block text-sm font-medium text-black-900 dark:text-gray-50",for:"email"},xe={class:"relative"},we={class:"absolute left-4.5 top-4"},$e=["value","placeholder"],Ne={class:"col-span-2"},ze={class:"mb-3 block text-sm font-medium text-black-900 dark:text-gray-50",for:"address"},Ve={class:"relative"},je={class:"absolute left-4.5 top-4"},Ue=["placeholder"],Ce={class:"flex justify-end gap-4.5"},Be=["disabled"],Se=w({__name:"Profile.information",setup(h){const a=b({}),{user:f,updateData:y}=$(),i=b(!1);C(async()=>{await l()});const l=async()=>{await I("/api/authenticate/user").then(t=>{t!=null&&t.data&&(a.value=t.data)})},_=async()=>{S("/api/users/"+f.id,a.value).then(t=>{t!=null&&t.data&&(y(t.data),D(v.global.t("message.update_success")))})};return L(a,t=>{i.value=JSON.stringify(f)===JSON.stringify(t)},{deep:!0}),(t,s)=>(g(),p("form",{onSubmit:B(_,["prevent"])},[e("div",be,[e("div",null,[e("label",me,n(t.$t("form.fullname")),1),e("div",ge,[e("span",pe,[m(r(O),{class:"w-5 h-5"})]),k(e("input",{class:"w-full rounded border py-3 pl-11.5 pr-4.5 dark:border-zinc-950 dark:bg-zinc-900 dark:text-gray-50 text-gray-900 border-gray-100 !bg-gray-50 bg-transparent font-normal outline-none transition disabled:cursor-default disabled:!bg-gray-200 disabled:!border-gray-400 disabled:!text-gray-600 dark:disabled:!bg-stone-950 dark:disabled:!text-gray-50",type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>a.value.fullName=o),id:"fullName",placeholder:t.$t("form.place_holder.fullname")},null,8,he),[[x,a.value.fullName]])])]),e("div",null,[e("label",fe,n(t.$t("form.phone")),1),e("div",_e,[e("span",ve,[m(r(K),{class:"w-5 h-5"})]),k(e("input",{onKeyup:s[1]||(s[1]=(...o)=>r(j)&&r(j)(...o)),onKeydown:s[2]||(s[2]=(...o)=>r(U)&&r(U)(...o)),class:"w-full rounded border py-3 pl-11.5 pr-4.5 dark:border-zinc-950 dark:bg-zinc-900 dark:text-gray-50 text-gray-900 border-gray-100 !bg-gray-50 bg-transparent font-normal outline-none transition disabled:cursor-default disabled:!bg-gray-200 disabled:!border-gray-400 disabled:!text-gray-600 dark:disabled:!bg-stone-950 dark:disabled:!text-gray-50",type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>a.value.phoneNumber=o),id:"phoneNumber",placeholder:t.$t("form.place_holder.phone")},null,40,ye),[[x,a.value.phoneNumber]])])]),e("div",null,[e("label",ke,n(t.$t("form.email")),1),e("div",xe,[e("span",we,[m(r(E),{class:"w-5 h-5"})]),e("input",{class:"w-full rounded border py-3 pl-11.5 pr-4.5 dark:border-zinc-950 dark:bg-zinc-900 dark:text-gray-50 text-gray-900 border-gray-100 !bg-gray-50 bg-transparent font-normal outline-none transition disabled:cursor-default disabled:!bg-gray-200 disabled:!border-gray-400 disabled:!text-gray-600 dark:disabled:!bg-stone-950 dark:disabled:!text-gray-50",type:"text",disabled:"",value:a.value.email,id:"email",placeholder:t.$t("form.place_holder.email")},null,8,$e)])]),e("div",Ne,[e("label",ze,n(t.$t("form.address")),1),e("div",Ve,[e("span",je,[m(r(T),{class:"w-5 h-5"})]),k(e("textarea",{id:"address",class:"w-full rounded border py-3 pl-11.5 pr-4.5 dark:border-zinc-950 dark:bg-zinc-900 dark:text-gray-50 text-gray-900 border-gray-100 !bg-gray-50 bg-transparent font-normal outline-none transition disabled:cursor-default disabled:!bg-gray-200 disabled:!border-gray-400 disabled:!text-gray-600 dark:disabled:!bg-stone-950 dark:disabled:!text-gray-50","onUpdate:modelValue":s[4]||(s[4]=o=>a.value.address=o),placeholder:t.$t("form.place_holder.address")},null,8,Ue),[[x,a.value.address]])])])]),e("div",Ce,[e("button",{disabled:i.value,class:"bg-cerulean-600 text-cerulean-100 flex justify-center rounded px-6 py-2 font-medium hover:bg-opacity-90 dark:bg-cerulean-500 dark:text-cerulean-50 disabled:!bg-cerulean-100 disabled:!text-cerulean-600",type:"submit"}," Save ",8,Be)])],32))}}),De={class:"grid grid-cols-5 gap-8"},Fe={class:"col-span-5 xl:col-span-3"},Me={class:"dark:border-zinc-950 dark:bg-zinc-950/90 rounded-sm border border-gray-100 bg-white shadow"},Pe={class:"px-6.5 py-4 border-b border-gray-100 dark:border-zinc-950 dark:!bg-zinc-950"},Ae={class:"text-black-1000 font-medium dark:text-white"},Re={class:"p-7"},Ge={class:"col-span-5 xl:col-span-2"},Ie={class:"dark:border-zinc-950 dark:bg-zinc-950/90 rounded-sm border border-gray-100 bg-white shadow"},Le={class:"px-6.5 py-4 border-b border-gray-100 dark:border-zinc-950 dark:!bg-zinc-950"},Je={class:"text-black-1000 font-medium dark:text-white"},Oe={class:"p-7"},We=w({__name:"CustomProfileView",setup(h){return $(),J(),(a,f)=>(g(),p("div",De,[e("div",Fe,[e("div",Me,[e("div",Pe,[e("h3",Ae,n(a.$t("content.your_profile")),1)]),e("div",Re,[m(Se)])])]),e("div",Ge,[e("div",Ie,[e("div",Le,[e("h3",Je,n(a.$t("content.image")),1)]),e("div",Oe,[m(ue)])])])]))}});export{We as default};
