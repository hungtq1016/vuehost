import{f as E,d as R,W as k,Z as $,V as fe,D as W,w as J,I as te,F as X,X as be,a0 as ge,n as N,Y as he,o as T,a as I,b as p,c as j,i as f,h as y,u as O,t as L,T as ie,g as re,l as z,m as xe,aE as ue,a3 as de,a4 as F,R as ye,x as we,aF as ae,a5 as _e,j as ke,k as Oe,r as le,a8 as Se,aG as Le,a6 as q,a7 as Q,B as Te,au as oe}from"./index-DTg46rQC.js";import{d as Ce,e as Re,f as De,u as Pe}from"./form-DLmZ15FH.js";import{u as A,o as D,E as Ve,A as Z,T as $e,I as Y,s as Ie,N as ne,a as S}from"./keyboard-BpG9qIHi.js";import{f as Be,c as P,w as Ee,p as Me,u as Ae,S as He,M as Ne,b as ze,g as Fe}from"./menu-BKSCpVMb.js";import{t as je,i as U,l as Ue}from"./open-closed-a7O1JoHo.js";import{w as Ze,h as Ke,O as qe}from"./use-tree-walker-Cy9hQhp5.js";import{r as Qe}from"./CheckIcon-BlEZ0uuh.js";import{r as We,_ as se,a as Ge}from"./EyeIcon-C1B8c7IW.js";import{a as G,d as ce}from"./request.helper-DN6JUNty.js";import{r as Je}from"./ChevronDownIcon-BlJOeIs2.js";import{r as Xe,a as Ye}from"./EyeIcon-B-aCzrou.js";import{n as et}from"./util.number-CuqvV8jo.js";function tt(t,n){return t===n}var at=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(at||{}),lt=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(lt||{}),ot=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ot||{});function nt(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let pe=Symbol("ListboxContext");function K(t){let n=he(pe,null);if(n===null){let u=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,K),u}return n}let st=E({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>tt},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:u,emit:h}){let s=R(1),b=R(null),e=R(null),c=R(null),g=R([]),m=R(""),w=R(null),o=R(1);function d(a=r=>r){let r=w.value!==null?g.value[w.value]:null,v=qe(a(g.value.slice()),C=>D(C.dataRef.domRef)),x=r?v.indexOf(r):null;return x===-1&&(x=null),{options:v,activeOptionIndex:x}}let i=k(()=>t.multiple?1:0),[_,V]=Ce(k(()=>t.modelValue),a=>h("update:modelValue",a),k(()=>t.defaultValue)),B=k(()=>_.value===void 0?A(i.value,{1:[],0:void 0}):_.value),l={listboxState:s,value:B,mode:i,compare(a,r){if(typeof t.by=="string"){let v=t.by;return(a==null?void 0:a[v])===(r==null?void 0:r[v])}return t.by(a,r)},orientation:k(()=>t.horizontal?"horizontal":"vertical"),labelRef:b,buttonRef:e,optionsRef:c,disabled:k(()=>t.disabled),options:g,searchQuery:m,activeOptionIndex:w,activationTrigger:o,closeListbox(){t.disabled||s.value!==1&&(s.value=1,w.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(a,r,v){if(t.disabled||s.value===1)return;let x=d(),C=Be(a===P.Specific?{focus:P.Specific,id:r}:{focus:a},{resolveItems:()=>x.options,resolveActiveIndex:()=>x.activeOptionIndex,resolveId:H=>H.id,resolveDisabled:H=>H.dataRef.disabled});m.value="",w.value=C,o.value=v??1,g.value=x.options},search(a){if(t.disabled||s.value===1)return;let r=m.value!==""?0:1;m.value+=a.toLowerCase();let v=(w.value!==null?g.value.slice(w.value+r).concat(g.value.slice(0,w.value+r)):g.value).find(C=>C.dataRef.textValue.startsWith(m.value)&&!C.dataRef.disabled),x=v?g.value.indexOf(v):-1;x===-1||x===w.value||(w.value=x,o.value=1)},clearSearch(){t.disabled||s.value!==1&&m.value!==""&&(m.value="")},registerOption(a,r){let v=d(x=>[...x,{id:a,dataRef:r}]);g.value=v.options,w.value=v.activeOptionIndex},unregisterOption(a){let r=d(v=>{let x=v.findIndex(C=>C.id===a);return x!==-1&&v.splice(x,1),v});g.value=r.options,w.value=r.activeOptionIndex,o.value=1},theirOnChange(a){t.disabled||V(a)},select(a){t.disabled||V(A(i.value,{0:()=>a,1:()=>{let r=$(l.value.value).slice(),v=$(a),x=r.findIndex(C=>l.compare(v,$(C)));return x===-1?r.push(v):r.splice(x,1),r}}))}};Ee([e,c],(a,r)=>{var v;l.closeListbox(),Ze(r,Ke.Loose)||(a.preventDefault(),(v=D(e))==null||v.focus())},k(()=>s.value===0)),fe(pe,l),je(k(()=>A(s.value,{0:U.Open,1:U.Closed})));let M=k(()=>{var a;return(a=D(e))==null?void 0:a.closest("form")});return W(()=>{J([M],()=>{if(!M.value||t.defaultValue===void 0)return;function a(){l.theirOnChange(t.defaultValue)}return M.value.addEventListener("reset",a),()=>{var r;(r=M.value)==null||r.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,modelValue:r,disabled:v,form:x,...C}=t,H={open:s.value===0,disabled:v,value:B.value};return te(X,[...a!=null&&B.value!=null?Re({[a]:B.value}).map(([ee,me])=>te(De,Ve({features:Pe.Hidden,key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:x,disabled:v,name:ee,value:me}))):[],Z({ourProps:{},theirProps:{...u,...$e(C,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:H,slots:n,attrs:u,name:"Listbox"})])}}}),it=E({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:n,slots:u,expose:h}){var s;let b=(s=t.id)!=null?s:`headlessui-listbox-button-${Y()}`,e=K("ListboxButton");h({el:e.buttonRef,$el:e.buttonRef});function c(o){switch(o.key){case S.Space:case S.Enter:case S.ArrowDown:o.preventDefault(),e.openListbox(),N(()=>{var d;(d=D(e.optionsRef))==null||d.focus({preventScroll:!0}),e.value.value||e.goToOption(P.First)});break;case S.ArrowUp:o.preventDefault(),e.openListbox(),N(()=>{var d;(d=D(e.optionsRef))==null||d.focus({preventScroll:!0}),e.value.value||e.goToOption(P.Last)});break}}function g(o){switch(o.key){case S.Space:o.preventDefault();break}}function m(o){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),N(()=>{var d;return(d=D(e.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(o.preventDefault(),e.openListbox(),nt(()=>{var d;return(d=D(e.optionsRef))==null?void 0:d.focus({preventScroll:!0})})))}let w=Ie(k(()=>({as:t.as,type:n.type})),e.buttonRef);return()=>{var o,d;let i={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{..._}=t,V={ref:e.buttonRef,id:b,type:w.value,"aria-haspopup":"listbox","aria-controls":(o=D(e.optionsRef))==null?void 0:o.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(d=D(e.labelRef))==null?void 0:d.id,b].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:c,onKeyup:g,onClick:m};return Z({ourProps:V,theirProps:_,slot:i,attrs:n,slots:u,name:"ListboxButton"})}}}),rt=E({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:n,slots:u,expose:h}){var s;let b=(s=t.id)!=null?s:`headlessui-listbox-options-${Y()}`,e=K("ListboxOptions"),c=R(null);h({el:e.optionsRef,$el:e.optionsRef});function g(o){switch(c.value&&clearTimeout(c.value),o.key){case S.Space:if(e.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),e.search(o.key);case S.Enter:if(o.preventDefault(),o.stopPropagation(),e.activeOptionIndex.value!==null){let d=e.options.value[e.activeOptionIndex.value];e.select(d.dataRef.value)}e.mode.value===0&&(e.closeListbox(),N(()=>{var d;return(d=D(e.buttonRef))==null?void 0:d.focus({preventScroll:!0})}));break;case A(e.orientation.value,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return o.preventDefault(),o.stopPropagation(),e.goToOption(P.Next);case A(e.orientation.value,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),e.goToOption(P.Previous);case S.Home:case S.PageUp:return o.preventDefault(),o.stopPropagation(),e.goToOption(P.First);case S.End:case S.PageDown:return o.preventDefault(),o.stopPropagation(),e.goToOption(P.Last);case S.Escape:o.preventDefault(),o.stopPropagation(),e.closeListbox(),N(()=>{var d;return(d=D(e.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case S.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(e.search(o.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}let m=Ue(),w=k(()=>m!==null?(m.value&U.Open)===U.Open:e.listboxState.value===0);return()=>{var o,d;let i={open:e.listboxState.value===0},{..._}=t,V={"aria-activedescendant":e.activeOptionIndex.value===null||(o=e.options.value[e.activeOptionIndex.value])==null?void 0:o.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(d=D(e.buttonRef))==null?void 0:d.id,"aria-orientation":e.orientation.value,id:b,onKeydown:g,role:"listbox",tabIndex:0,ref:e.optionsRef};return Z({ourProps:V,theirProps:_,slot:i,attrs:n,slots:u,features:ne.RenderStrategy|ne.Static,visible:w.value,name:"ListboxOptions"})}}}),ut=E({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:n,attrs:u,expose:h}){var s;let b=(s=t.id)!=null?s:`headlessui-listbox-option-${Y()}`,e=K("ListboxOption"),c=R(null);h({el:c,$el:c});let g=k(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===b:!1),m=k(()=>A(e.mode.value,{0:()=>e.compare($(e.value.value),$(t.value)),1:()=>$(e.value.value).some(a=>e.compare($(a),$(t.value)))})),w=k(()=>A(e.mode.value,{1:()=>{var a;let r=$(e.value.value);return((a=e.options.value.find(v=>r.some(x=>e.compare($(x),$(v.dataRef.value)))))==null?void 0:a.id)===b},0:()=>m.value})),o=Me(c),d=k(()=>({disabled:t.disabled,value:t.value,get textValue(){return o()},domRef:c}));W(()=>e.registerOption(b,d)),be(()=>e.unregisterOption(b)),W(()=>{J([e.listboxState,m],()=>{e.listboxState.value===0&&m.value&&A(e.mode.value,{1:()=>{w.value&&e.goToOption(P.Specific,b)},0:()=>{e.goToOption(P.Specific,b)}})},{immediate:!0})}),ge(()=>{e.listboxState.value===0&&g.value&&e.activationTrigger.value!==0&&N(()=>{var a,r;return(r=(a=D(c))==null?void 0:a.scrollIntoView)==null?void 0:r.call(a,{block:"nearest"})})});function i(a){if(t.disabled)return a.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),N(()=>{var r;return(r=D(e.buttonRef))==null?void 0:r.focus({preventScroll:!0})}))}function _(){if(t.disabled)return e.goToOption(P.Nothing);e.goToOption(P.Specific,b)}let V=Ae();function B(a){V.update(a)}function l(a){V.wasMoved(a)&&(t.disabled||g.value||e.goToOption(P.Specific,b,0))}function M(a){V.wasMoved(a)&&(t.disabled||g.value&&e.goToOption(P.Nothing))}return()=>{let{disabled:a}=t,r={active:g.value,selected:m.value,disabled:a},{value:v,disabled:x,...C}=t,H={id:b,ref:c,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:i,onFocus:_,onPointerenter:B,onMouseenter:B,onPointermove:l,onMousemove:l,onPointerleave:M,onMouseleave:M};return Z({ourProps:H,theirProps:C,slot:r,attrs:u,slots:n,name:"ListboxOption"})}}});function dt(t,n){return T(),I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[p("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}const ct={class:"relative mt-2"},pt={class:"flex items-center"},vt={class:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"},mt={class:"flex items-center"},ft=E({__name:"Table.header",props:{options:{},value:{}},emits:["update:modelValue"],setup(t,{emit:n}){const h=R(t.value),s=c=>h.value.includes(c),b=k(()=>h.value.length),e=n;return(c,g)=>(T(),j(O(st),{as:"div",modelValue:h.value,"onUpdate:modelValue":[g[0]||(g[0]=m=>h.value=m),g[1]||(g[1]=m=>e("update:modelValue",m))],multiple:""},{default:f(()=>[p("div",ct,[y(O(it),{class:"relative cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 focus:outline-none focus:ring-2 focus:ring-cerulean-500 sm:text-sm sm:leading-6"},{default:f(()=>[p("span",pt,L(b.value?c.$t("table.selected",{count:b.value}):c.$t("table.select_header")),1),p("span",vt,[y(O(dt),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),y(ie,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[y(O(rt),{class:"absolute z-[10] mt-1 max-h-56 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-slate-950 ring-opacity-5 focus:outline-none sm:text-sm"},{default:f(()=>[(T(!0),I(X,null,re(c.options,m=>(T(),j(O(ut),{as:"template",key:m.value,value:m},{default:f(({active:w})=>[p("li",{class:z([w?"bg-cerulean-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[p("div",mt,[p("span",{class:z([s(m)?"font-semibold":"font-normal","ml-3 block truncate"])},L(c.$t(m.text)),3)]),s(m)?(T(),I("span",{key:0,class:z([w?"text-white":"text-cerulean-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[y(O(Qe),{class:"h-5 w-5","aria-hidden":"true"})],2)):xe("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}});function bt(t,n){return T(),I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[p("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})])}const gt=E({__name:"Table.active",props:{item:{},fetch:{type:Function},route:{}},setup(t){const n=t,u=async()=>{n.item.enable=!n.item.enable;const h=await G(`${ue("api."+n.route)}/${n.item.id}`,n.item);(h==null?void 0:h.isError)==!1&&(await n.fetch(),de(F.global.t("message.update_success")))};return(h,s)=>h.item.enable?(T(),I("button",{key:0,onClick:u,class:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20 whitespace-nowrap"},L(h.$t("content.active")),1)):(T(),I("button",{key:1,onClick:u,class:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20 whitespace-nowrap"},L(h.$t("content.inactive")),1))}});function ht(t,n){return T(),I("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function ve(t,n){return T(),I("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}const xt={class:"flex gap-x-1 divide-x-2"},yt=E({__name:"Table.action",props:{item:{},route:{},fetch:{type:Function}},setup(t){const n=ye();we();const u=t,h=async()=>{if(confirm(F.global.t("message.confirm_delete",{name:ae(u.item.id)}))){const c=await ce(`/api/${u.route}/${u.item.id}`);c!=null&&c.isError?_e(F.global.t("error.server_error.message",{name:ae(u.route)})):await u.fetch()}},s=()=>{navigator.clipboard.writeText(u.item.id),de(F.global.t("message.copy_success",{name:"Id"}))},b=()=>{n.push(`/admin/${u.route}/${u.item.id}`)};return(e,c)=>(T(),I("div",xt,[p("button",{type:"button",onClick:h,class:"!text-red-600"},[y(O(ve),{class:"h-5 w-5 !text-red-600"})]),p("button",{class:"pl-1",onClick:s},[y(O(ht),{class:"h-5 w-5"})]),p("button",{type:"button",onClick:b,class:"pl-1"},[y(O(We),{class:"h-5 w-5"})])]))}}),wt={class:"py-1"},_t=["onClick"],kt={class:"whitespace-nowrap"},Ot=E({__name:"Table.selected-item",props:{total:{},items:{},route:{},fetch:{type:Function}},setup(t){const n=t,u=ue("api."+n.route),h=[{text:"table.disable_all",action:async()=>{n.items.map(s=>s.enable=!1),await G(u,n.items),await n.fetch()},icon:Xe,class:"text-amber-600"},{text:"table.delete_all",action:async()=>{await ce(u,n.items),await n.fetch()},icon:bt,class:"text-red-600"},{text:"table.enable_all",action:async()=>{n.items.map(s=>s.enable=!0),await G(u,n.items),await n.fetch()},icon:Ye,class:"text-green-600"}];return(s,b)=>(T(),j(O(Fe),{as:"div",class:"relative inline-block text-left mt-2"},{default:f(()=>[y(O(He),{disabled:s.total===0,class:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 hover:enabled:bg-gray-50 disabled:bg-gray-100 disabled:ring-0 disabled:text-gray-600"},{default:f(()=>[ke(L(s.total?s.$t("table.select_rows",{count:s.total}):s.$t("table.select_action"))+" ",1),y(O(Je),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1},8,["disabled"]),y(ie,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:f(()=>[y(O(Ne),{class:"absolute right-0 z-[10] mt-2 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-slate-950 ring-opacity-5 focus:outline-none"},{default:f(()=>[p("div",wt,[(T(),I(X,null,re(h,e=>y(O(ze),{key:e.text},{default:f(({active:c})=>[p("button",{onClick:e.action,class:z([c?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm w-full"])},[(T(),j(Oe(e.icon),{class:z(["mr-3 h-5 w-5 group-hover:text-gray-500",[e.class]]),"aria-hidden":"true"},null,8,["class"])),p("span",kt,L(s.$t(e.text)),1)],10,_t)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}))}}),St={class:"bg-white dark:bg-transparent p-2 border border-gray-200 dark:border-black-700 dark:bg-zinc-950"},Lt={class:"pb-2 flex gap-x-2"},Tt={class:"truncate max-w-28"},Ct={class:"line-clamp-1 w-40 hover:line-clamp-2"},Rt={class:"line-clamp-1 w-40 hover:line-clamp-1"},Dt={class:"line-clamp-1 w-40 hover:line-clamp-2"},Pt={class:"line-clamp-1 w-40 hover:line-clamp-2"},Vt={class:"line-clamp-1 w-40 hover:line-clamp-2"},$t={class:"line-clamp-1 w-40 hover:line-clamp-2"},It=["innerHTML"],Bt=["innerHTML"],Et=["src","alt"],Mt={class:"whitespace-nowrap"},At=["onClick"],Jt=E({__name:"TableView",props:{headers:{},items:{},pagination:{},paginationOptions:{},route:{},fetch:{type:Function},expandComponent:{}},setup(t){const n=t,u=R(n.items),h=i=>i.value==="score"?"score-column":"dark:!bg-zinc-900 dark:!text-gray-50 dark:!border-gray-800",s=i=>i==="score"?"score-column":"dark:!bg-zinc-800 dark:!text-gray-50 dark:!border-gray-800",b=R([]),e=k(()=>o.value.map(i=>({...i,text:F.global.t(i.text)}))),c=i=>{u.value=u.value.filter(_=>_.id!==i)},g=(i,_={hours:0,minutes:0,seconds:0})=>oe(new Date().setHours(i&&i.hours||_.hours,i&&i.minutes||_.minutes,i&&i.seconds||_.seconds),"HH:mm:ss");console.log(g({hours:15,minutes:0,seconds:0},{hours:0,minutes:0,seconds:0}));const o=R([...n.headers]),d=k(()=>b.value.length);return J(()=>n.items,i=>{u.value=i}),(i,_)=>{const V=le("expandComponent"),B=le("EasyDataTable");return T(),I("div",St,[p("div",Lt,[y(ft,{value:o.value,options:i.headers,"onUpdate:modelValue":_[0]||(_[0]=l=>o.value=l)},null,8,["value","options"]),y(Ot,Se({total:d.value,items:b.value,route:i.route,fetch:i.fetch},{}),null,16,["total","items","route","fetch"])]),y(B,{"items-selected":b.value,"onUpdate:itemsSelected":_[1]||(_[1]=l=>b.value=l),headers:e.value,items:u.value,"hide-footer":!0,"header-item-class-name":h,"body-item-class-name":s,class:"dark:!border-zinc-900","no-hover":""},Le({"item-id":f(({id:l})=>[p("p",Tt,L(l),1)]),"item-title":f(({title:l})=>[p("p",Ct,L(l),1)]),"item-slug":f(({slug:l})=>[p("p",Rt,L(l),1)]),"item-desc":f(({desc:l})=>[p("p",Dt,L(l),1)]),"item-content":f(({content:l})=>[p("p",Pt,L(l),1)]),"item-label":f(({label:l})=>[p("p",Vt,L(l),1)]),"item-name":f(({name:l})=>[p("p",$t,L(l),1)]),"item-addressEmbed":f(({addressEmbed:l})=>[p("div",{class:"w-40 h-40 overflow-hidden",innerHTML:l},null,8,It)]),"item-videoEmbed":f(({videoEmbed:l})=>[p("div",{class:"w-40 h-40 overflow-hidden",innerHTML:l},null,8,Bt)]),"item-imageUrl":f(({imageUrl:l})=>[p("img",{src:O(Te)(l),alt:l,class:"w-10 h-10 object-cover"},null,8,Et)]),"item-enable":f(l=>[y(gt,{item:l,fetch:i.fetch,route:i.route},null,8,["item","fetch","route"])]),"item-size":f(({size:l})=>[p("p",Mt,L(O(et)(Number(l))),1)]),"item-date":f(({date:l})=>[p("div",null,L(O(oe)(new Date(l),"dd/m/yyyy")),1)]),"item-time":f(({time:l})=>[p("div",null,L(g(JSON.parse(l))),1)]),"item-createdAt":f(({createdAt:l})=>[y(se,{date:l},null,8,["date"])]),"item-updatedAt":f(({updatedAt:l})=>[y(se,{date:l},null,8,["date"])]),"item-action":f(l=>[y(yt,q(Q({item:l,route:i.route,fetch:i.fetch})),null,16)]),"item-delete":f(({id:l})=>[p("button",{onClick:M=>c(l)},[y(O(ve),{class:"w-5 h-5"})],8,At)]),_:2},[i.expandComponent?{name:"expand",fn:f(l=>[y(V,q(Q({item:l,route:i.route})),null,16)]),key:"0"}:void 0]),1032,["items-selected","headers","items"]),y(Ge,q(Q({pagination:i.pagination,paginationOptions:i.paginationOptions})),null,16)])}}});export{Jt as _};
