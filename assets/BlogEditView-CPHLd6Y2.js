import{d as A,a3 as F,w as M,aI as O,f as q,x as z,D as G,r as H,o as J,c as K,i as t,h as r,u as e,j as m,t as s,O as L}from"./index-DTg46rQC.js";import{u as P}from"./useAsyncValidator-BiKHsQdo.js";import{_ as C,a as v,b as Q,c as W}from"./Form.layout.vue_vue_type_script_setup_true_lang-cOmaJ-8J.js";import{_ as X}from"./ImageView.vue_vue_type_script_setup_true_lang-C1fHiqX3.js";import{_ as N}from"./Form.input.vue_vue_type_script_setup_true_lang-CX-Al21t.js";import{_ as Y}from"./Form.select.vue_vue_type_script_setup_true_lang-Ce7tN_9t.js";import{_ as D}from"./Form.textarea.vue_vue_type_script_setup_true_lang-DUUAAgSB.js";import{_ as Z}from"./Form.input.slot.vue_vue_type_script_setup_true_lang-CZC2I28R.js";import{c as R,t as S,e as x,a as ee,_ as ae,b as B}from"./blog.add-DxrKtcEk.js";import{r as oe}from"./blog-nUVvX2kP.js";import{g as y,a as le}from"./request.helper-DN6JUNty.js";import"./index-B9LkKbxO.js";import"./form-DLmZ15FH.js";import"./keyboard-BpG9qIHi.js";import"./EyeIcon-B-aCzrou.js";import"./ChevronDownIcon-BlJOeIs2.js";import"./util.object-9m6X7yey.js";import"./UploadFile-J_5fq2ah.js";import"./v4-CQkTLCs1.js";import"./enum-CD4clsnU.js";const o=A({}),te=async n=>{y("/api/blogs/"+n).then(p=>{p!=null&&p.data&&(o.value=p.data)})},re=async()=>{const n=await le("/api/blogs/"+o.value.id,o.value);n!=null&&n.data&&F(n.message)};M(o,n=>{o.value.slug=O(n.title)},{deep:!0});const Ee=q({__name:"BlogEditView",setup(n){const p=z(),{pass:T,errorFields:d}=P(o,oe);return G(async()=>{y("/api/categories/admin").then(a=>{R.value=(a==null?void 0:a.data)||[]}),y("/api/tags").then(a=>{S.value=(a==null?void 0:a.data)||[]}),await te(String(p.params.id))}),(a,l)=>{const j=H("ckeditor");return J(),K(W,{submit:e(re)},{default:t(()=>[r(C,null,{default:t(()=>{var g,h,c,V,i,_,$,b;return[r(v,{"has-error":[!!((h=(g=e(d))==null?void 0:g.title)!=null&&h.length),!!((V=(c=e(d))==null?void 0:c.categoryId)!=null&&V.length),!!((_=(i=e(d))==null?void 0:i.content)!=null&&_.length)]},{heading:t(()=>[m(s(a.$t("form.heading")),1)]),content:t(()=>{var u,U,w,E,I,k;return[r(N,{modelValue:e(o).title,"onUpdate:modelValue":l[0]||(l[0]=f=>e(o).title=f),"has-error":!!((U=(u=e(d))==null?void 0:u.title)!=null&&U.length),placeholder:a.$t("form.place_holder.title")},{default:t(()=>[m(s(a.$t("form.title")),1)]),_:1},8,["modelValue","has-error","placeholder"]),r(N,{modelValue:e(o).slug,"onUpdate:modelValue":l[1]||(l[1]=f=>e(o).slug=f),disabled:!0,placeholder:a.$t("form.place_holder.slug")},{default:t(()=>[m(s(a.$t("form.slug")),1)]),_:1},8,["modelValue","placeholder"]),r(Y,{modelValue:e(o).categoryId,"onUpdate:modelValue":l[2]||(l[2]=f=>e(o).categoryId=f),list:e(R),"has-error":!!((E=(w=e(d))==null?void 0:w.categoryId)!=null&&E.length),placeholder:a.$t("form.place_holder.category")},{default:t(()=>[m(s(a.$t("form.select_category")),1)]),_:1},8,["modelValue","list","has-error","placeholder"]),r(Z,{"has-error":!!((k=(I=e(d))==null?void 0:I.content)!=null&&k.length)},{label:t(()=>[m(s(a.$t("form.content")),1)]),content:t(()=>[r(j,{editor:e(x),modelValue:e(o).content,"onUpdate:modelValue":l[3]||(l[3]=f=>e(o).content=f),config:e(ee)},null,8,["editor","modelValue","config"])]),_:1},8,["has-error"])]}),_:1},8,["has-error"]),r(X,{modelValue:e(o).imageUrl,"onUpdate:modelValue":l[4]||(l[4]=u=>e(o).imageUrl=u),"has-error":[!!((b=($=e(d))==null?void 0:$.imageUrl)!=null&&b.length)]},null,8,["modelValue","has-error"])]}),_:1}),r(C,null,{default:t(()=>{var g,h,c,V;return[r(Q,{modelValue:e(o).enable,"onUpdate:modelValue":l[5]||(l[5]=i=>e(o).enable=i),pass:e(T)},null,8,["modelValue","pass"]),r(v,{"has-error":[!!((h=(g=e(d))==null?void 0:g.desc)!=null&&h.length),!!((V=(c=e(d))==null?void 0:c.videoEmbed)!=null&&V.length)]},{heading:t(()=>[m(s(a.$t("form.content")),1)]),content:t(()=>{var i,_,$,b;return[r(D,{modelValue:e(o).videoEmbed,"onUpdate:modelValue":l[6]||(l[6]=u=>e(o).videoEmbed=u),"has-error":!!((_=(i=e(d))==null?void 0:i.videoEmbed)!=null&&_.length),placeholder:a.$t("form.place_holder.video_embed")},{default:t(()=>[m(s(a.$t("form.video_embed")),1)]),_:1},8,["modelValue","has-error","placeholder"]),r(D,{modelValue:e(o).desc,"onUpdate:modelValue":l[7]||(l[7]=u=>e(o).desc=u),"has-error":!!((b=($=e(d))==null?void 0:$.desc)!=null&&b.length),placeholder:a.$t("form.place_holder.desc")},{default:t(()=>[m(s(a.$t("form.desc")),1)]),_:1},8,["modelValue","has-error","placeholder"])]}),_:1},8,["has-error"]),r(v,{"has-error":[!1]},{heading:t(()=>[m(s(a.$t("form.content")),1)]),content:t(()=>[r(ae,{modelValue:e(B),"onUpdate:modelValue":l[8]||(l[8]=i=>L(B)?B.value=i:null),list:e(S),"has-error":!1,placeholder:a.$t("form.place_holder.multiple_select_tag")},{default:t(()=>[m(s(a.$t("form.multiple_select_tag")),1)]),_:1},8,["modelValue","list","placeholder"])]),_:1})]}),_:1})]),_:1},8,["submit"])}}});export{Ee as default};
