import{_}from"./Auth.form.vue_vue_type_script_setup_true_lang-SrMmWmA1.js";import{_ as h}from"./Auth.input.vue_vue_type_script_setup_true_lang-rf1pOKTW.js";import{u as y}from"./useAsyncValidator-D-1iyTRV.js";import{ad as V,a9 as g,a5 as b,f as w,R as B,o as N,a as x,h as l,i as n,b as $,u as s,j as k,t as v,a3 as E,a4 as j}from"./index-BC3jgjxj.js";import{r as C}from"./util.object-9m6X7yey.js";import"./v4-CQkTLCs1.js";import"./index-BMenrDxa.js";const m={email:""},a=V({...m}),R={email:{type:"string",required:!0}},S=async()=>{try{const e=await g("/api/authenticate/send-otp",a);return e!=null&&e.data?!0:(C(a,m),!1)}catch(e){return b(String(e)),!1}},q={class:"max-w-xs w-full"},A={class:"sm:col-span-6"},G=w({__name:"LoginByEmailView",setup(e){const{pass:c,errorFields:p}=y(a,R),u=B(),d=async()=>{await S()&&(E(j.global.t("message.check_email")),u.push("/oauth2/otp?email="+a.email))};return(t,o)=>(N(),x("div",q,[l(_,{pass:s(c),submit:d},{default:n(()=>{var r,i;return[$("div",A,[l(h,{modelValue:s(a).email,"onUpdate:modelValue":o[0]||(o[0]=f=>s(a).email=f),type:"email",placeholder:t.$t("form.place_holder.email"),"has-error":!!((i=(r=s(p))==null?void 0:r.email)!=null&&i.length)},{default:n(()=>[k(v(t.$t("form.email")),1)]),_:1},8,["modelValue","placeholder","has-error"])])]}),_:1},8,["pass"])]))}});export{G as default};
