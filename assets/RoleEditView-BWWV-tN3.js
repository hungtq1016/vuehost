import{d as w,a3 as v,f as N,x as U,D as k,o as C,c as D,i as t,h as s,u as a,j as u,t as f}from"./index-Cz9B68HP.js";import{u as R}from"./useAsyncValidator-CvlvEwpL.js";import{_ as b,a as S,b as j,c as A}from"./Form.layout.vue_vue_type_script_setup_true_lang-CPRpQ6ZQ.js";import{_ as B}from"./Form.input.vue_vue_type_script_setup_true_lang-Cxj-k_Rq.js";import{g as E,a as F}from"./request.helper-D1MGDj_g.js";import{r as M}from"./role-BUKM2a_G.js";import"./index--rcVdR2e.js";import"./form-aYMBd3ty.js";import"./keyboard-BOI6BuMK.js";import"./EyeIcon-ByucquJJ.js";import"./enum-CD4clsnU.js";const e=w({}),T=async o=>{E("/api/roles/"+o).then(l=>{l!=null&&l.data&&(e.value=l.data)})},q=async()=>{const o=await F("/api/roles/"+e.value.id,e.value);o!=null&&o.data&&v(o.message)},W=N({__name:"RoleEditView",setup(o){const{pass:l,errorFields:m}=R(e,M),y=U();return k(async()=>{await T(String(y.params.id))}),(n,r)=>(C(),D(A,{submit:a(q)},{default:t(()=>[s(b,null,{default:t(()=>{var i,p,c,h;return[s(S,{"has-error":[!!((p=(i=a(m))==null?void 0:i.name)!=null&&p.length),!!((h=(c=a(m))==null?void 0:c.note)!=null&&h.length)]},{heading:t(()=>[u(f(n.$t("form.heading")),1)]),content:t(()=>{var _,V,g,$;return[s(B,{modelValue:a(e).name,"onUpdate:modelValue":r[0]||(r[0]=d=>a(e).name=d),"has-error":!!((V=(_=a(m))==null?void 0:_.name)!=null&&V.length),placeholder:n.$t("form.place_holder.name")},{default:t(()=>[u(f(n.$t("form.name")),1)]),_:1},8,["modelValue","has-error","placeholder"]),s(B,{modelValue:a(e).note,"onUpdate:modelValue":r[1]||(r[1]=d=>a(e).note=d),"has-error":!!(($=(g=a(m))==null?void 0:g.note)!=null&&$.length),placeholder:n.$t("form.place_holder.note")},{default:t(()=>[u(f(n.$t("form.note")),1)]),_:1},8,["modelValue","has-error","placeholder"])]}),_:1},8,["has-error"])]}),_:1}),s(b,null,{default:t(()=>[s(j,{modelValue:a(e).enable,"onUpdate:modelValue":r[2]||(r[2]=i=>a(e).enable=i),pass:a(l)},null,8,["modelValue","pass"])]),_:1})]),_:1},8,["submit"]))}});export{W as default};
