import{S as ae,a as ne}from"./SVG.twitter.x-COG_GtfV.js";import{aa as P,ab as O,o as i,a as c,b as a,f as y,d as p,D as Y,t as g,F as b,g as w,h as f,u,m as D,w as j,c as N,N as z,J as se,a9 as oe,A as F,B as E,y as A,p as U,P as W,z as le,ac as G,a4 as J,r as ie,O as re,a8 as ce,x as de,R as ue}from"./index-uPjlTW5-.js";import{g as L}from"./request.helper-Dd_ZrsNF.js";import{_ as me}from"./Blog.item.vue_vue_type_script_setup_true_lang-IA_LszP-.js";import{E as ge}from"./enum-CD4clsnU.js";import{r as Q}from"./PaperAirplaneIcon-9cazNtwc.js";import{v as X}from"./v4-CQkTLCs1.js";import{f as fe}from"./formatDistance-BTOIJc1i.js";import{v as pe}from"./vi-C2Rev4gY.js";import{S as R}from"./sweetalert2-z6gKu1nJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function he(n,e){const o=(e==null?void 0:e.additionalDigits)??2,t=be(n);let l;if(t.date){const d=we(t.date,o);l=ye(d.restDateString,d.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const s=l.getTime();let r=0,h;if(t.time&&(r=$e(t.time),isNaN(r)))return new Date(NaN);if(t.timezone){if(h=ke(t.timezone),isNaN(h))return new Date(NaN)}else{const d=new Date(s+r),m=new Date(0);return m.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),m.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),m}return new Date(s+r+h)}const C={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function be(n){const e={},o=n.split(C.dateTimeDelimiter);let t;if(o.length>2)return e;if(/:/.test(o[0])?t=o[0]:(e.date=o[0],t=o[1],C.timeZoneDelimiter.test(e.date)&&(e.date=n.split(C.timeZoneDelimiter)[0],t=n.substr(e.date.length,n.length))),t){const l=C.timezone.exec(t);l?(e.time=t.replace(l[1],""),e.timezone=l[1]):e.time=t}return e}function we(n,e){const o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),t=n.match(o);if(!t)return{year:NaN,restDateString:""};const l=t[1]?parseInt(t[1]):null,s=t[2]?parseInt(t[2]):null;return{year:s===null?l:s*100,restDateString:n.slice((t[1]||t[2]).length)}}function ye(n,e){if(e===null)return new Date(NaN);const o=n.match(_e);if(!o)return new Date(NaN);const t=!!o[4],l=$(o[1]),s=$(o[2])-1,r=$(o[3]),h=$(o[4]),d=$(o[5])-1;if(t)return Ie(e,h,d)?De(e,h,d):new Date(NaN);{const m=new Date(0);return!Te(e,s,r)||!Ce(e,l)?new Date(NaN):(m.setUTCFullYear(e,s,Math.max(l,r)),m)}}function $(n){return n?parseInt(n):1}function $e(n){const e=n.match(ve);if(!e)return NaN;const o=S(e[1]),t=S(e[2]),l=S(e[3]);return ze(o,t,l)?o*P+t*O+l*1e3:NaN}function S(n){return n&&parseFloat(n.replace(",","."))||0}function ke(n){if(n==="Z")return 0;const e=n.match(xe);if(!e)return 0;const o=e[1]==="+"?-1:1,t=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return Se(t,l)?o*(t*P+l*O):NaN}function De(n,e,o){const t=new Date(0);t.setUTCFullYear(n,0,4);const l=t.getUTCDay()||7,s=(e-1)*7+o+1-l;return t.setUTCDate(t.getUTCDate()+s),t}const Ne=[31,null,31,30,31,30,31,31,30,31,30,31];function q(n){return n%400===0||n%4===0&&n%100!==0}function Te(n,e,o){return e>=0&&e<=11&&o>=1&&o<=(Ne[e]||(q(n)?29:28))}function Ce(n,e){return e>=1&&e<=(q(n)?366:365)}function Ie(n,e,o){return e>=1&&e<=53&&o>=0&&o<=6}function ze(n,e,o){return n===24?e===0&&o===0:o>=0&&o<60&&e>=0&&e<60&&n>=0&&n<25}function Se(n,e){return e>=0&&e<=59}function Ue(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z","clip-rule":"evenodd"})])}function Me(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z","clip-rule":"evenodd"})])}function Be(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Ve(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function Ze(n,e){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}const Le={class:"pb-10"},Re={class:"py-4"},He={class:"font-bold text-slate-950"},Pe={class:"flex pl-2 gap-y-2 flex-col mt-2"},Oe={class:"flex gap-x-1 items-center"},Ye={class:"font-medium capitalize"},je=["href"],Fe={class:"py-4"},Ee={class:"font-bold text-slate-950"},Ae={class:"flex pl-2 gap-y-2 flex-col mt-2"},We={class:"flex gap-x-1 items-center"},Ge={class:"font-medium text-cerulean-500"},Je={class:"mt-2 pl-2 flex flex-col gap-1"},Qe={class:"flex gap-x-2 items-center"},Xe={class:"flex gap-x-2 items-center"},qe={key:0},Ke=y({__name:"Detail.contact",setup(n){const e=p([]),o=p([]);return Y(()=>{L("/api/branches").then(t=>{t!=null&&t.data&&(e.value=t.data)}),L("/api/groupurls/label/social").then(t=>{t!=null&&t.data&&(o.value=t.data.urls)})}),(t,l)=>(i(),c("div",Le,[a("div",Re,[a("div",He,g(t.$t("content.assistance_contact"))+":",1),a("div",Pe,[(i(!0),c(b,null,w(o.value,s=>(i(),c("div",{key:s.id},[a("div",Oe,[f(u(Be),{class:"w-3 h-3"}),a("span",Ye,g(s.label)+" :",1),a("a",{href:s.type+s.slug,class:"text-gray-600"},g(s.slug),9,je)])]))),128))])]),a("div",Fe,[a("div",Ee,g(t.$t("content.directly_contact"))+":",1),a("div",Ae,[(i(!0),c(b,null,w(e.value,(s,r)=>(i(),c("div",{key:s.name},[a("div",We,[f(u(Ve),{class:"w-5 h-5"}),a("span",Ge,g(`${t.$t("content.branch")} ${r+1}`),1)]),a("div",Je,[a("div",Qe,[f(u(Ue),{class:"w-3 h-3 text-rose-500"}),a("span",null,g(`${s.address1} ${s.address2}`),1)]),a("div",Xe,[f(u(Me),{class:"w-3 h-3 text-green-600"}),a("span",null,g(s.phone1),1),s.phone2?(i(),c("span",qe,"- "+g(s.phone2),1)):D("",!0)])])]))),128))])])]))}}),et={class:"pb-10"},tt={class:"text-xl font-bold leading-10 mb-2"},at={key:0},nt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},st=y({__name:"RelateView",props:{slug:{}},setup(n){const e=n,o=p([]);return j(()=>e.slug,t=>{t!==void 0&&z("/api/blogs/category/"+e.slug+"?pageSize=3").then(l=>{l!=null&&l.data&&(o.value=l.data.data)})}),(t,l)=>(i(),c("section",et,[a("div",null,[a("div",tt,g(t.$t("content.related_articles")),1),e?(i(),c("div",nt,[(i(!0),c(b,null,w(o.value,s=>(i(),N(me,{key:s.id,data:s},null,8,["data"]))),128))])):(i(),c("div",at,g(t.$t("message.not_available")),1))])]))}}),ot={class:"max-w-screen-xl xl:mx-auto lg:mx-8 md:mx-6 mx-4 animate-pulse"},lt={class:"flex flex-col gap-y-2"},it=se('<svg class="w-10 h-10 text-gray-400 dark:text-zinc-700" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18"><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"></path></svg><div class="space-y-1 w-full"><div class="bg-gray-200 dark:bg-zinc-700 w-1/6 h-6 rounded-md"></div><div class="bg-gray-100 dark:bg-zinc-800 w-4/5 h-12 rounded-md"></div></div>',2),rt=[it],K=y({__name:"LoadingCommentView",props:{count:{type:Number,default:5,required:!1}},setup(n){return(e,o)=>(i(),c("section",null,[a("div",ot,[a("div",lt,[(i(!0),c(b,null,w(n.count,t=>(i(),c("div",{class:"flex gap-x-3",key:t},rt))),128))])])]))}}),T=p([]),ct={pageNumber:1,pageSize:5,firstPage:1,lastPage:1,totalPages:0,totalRecords:0,nextPage:1,previousPage:1},k=p(""),I=p({...ct}),x=p(!1),M=p(!1),B=p({pageNumber:1,pageSize:5,enable:ge.ALL}),H=async n=>{M.value||(x.value=!0,z("/api/comments/blog/"+n,B.value).then(e=>{if(e!=null&&e.data){const{data:o,...t}=e.data;T.value=[...T.value,...o],I.value=t,B.value.pageNumber=I.value.nextPage,M.value=I.value.pageNumber===I.value.lastPage}}).finally(()=>x.value=!1))},ee=async n=>{oe("/api/comments",n).then(e=>{e!=null&&e.data&&(T.value=[...T.value,e.data])})},dt={class:"flex justify-between relative flex-row pt-2"},ut={class:"basis-10"},mt=["src","alt"],gt={class:"basis-[calc(100%-45px)]"},ft={class:"flex flex-col gap-y-1 bg-gray-100 dark:bg-zinc-900 rounded pl-3 pr-2 py-1 w-fit"},pt={class:"font-medium dark:text-gray-200 dark:font-medium text-black-1000"},ht={class:"text-gray-600 text-sm dark:text-gray-100"},_t={class:"flex gap-x-2 mt-1 flex-wrap"},vt={class:"text-sm text-gray-600 font-medium dark:text-gray-100"},xt={key:0,class:"pt-2 pb-1 pr-3 relative"},bt={class:"absolute bottom-5 right-5",type:"submit"},wt={key:0,class:"absolute top-10 bottom-1 left-5 w-5 -z-[1] border-l-2 border-b-2 rounded-bl-lg border-gray-200"},te=y({__name:"Coment.item",props:{data:{},blogId:{}},setup(n){const{user:e,isLogin:o}=F(),t=n,l=p({...t.data,children:[]}),s=p(!1),r=p(""),h=async()=>{x.value=!0,z("/api/comments/comment/"+t.data.id,B.value).then(m=>{if(m!=null&&m.data){const{data:_,...v}=m.data;l.value.children=[...l.value.children,..._]}}).finally(()=>x.value=!1)},d=async()=>{if(!o)G(J.global.t("message.need_login"));else{const m={blogId:t.blogId,userId:e.id,content:r.value,parentId:t.data.id,id:X(),enable:!0,left:1,right:1};ee(m).finally(()=>r.value="")}};return(m,_)=>(i(),c("div",dt,[a("div",ut,[a("img",{class:"rounded-full object-cover w-10 h-10",src:u(E)(l.value.user.imageUrl),alt:l.value.userId},null,8,mt)]),a("div",gt,[a("div",ft,[a("div",pt,g(l.value.user.fullName),1),a("div",ht,g(l.value.content),1)]),a("div",_t,[a("button",{onClick:_[0]||(_[0]=v=>s.value=!s.value),class:"text-sm font-medium text-gray-600 dark:text-gray-100"}," Trả lời "),a("div",vt,g(u(fe)(u(he)(l.value.createdAt),new Date,{addSuffix:!0,locale:u(pe)})),1)]),s.value?(i(),c("div",xt,[a("form",{onSubmit:A(d,["prevent"])},[U(a("textarea",{"onUpdate:modelValue":_[1]||(_[1]=v=>r.value=v),placeholder:"Phản hồi...",class:"dark:bg-zinc-700 bg-gray-100 focus:ring-0 focus:outline-none border-gray-100 border w-full rounded-md resize-none p-2 text-gray-900 dark:text-gray-100 text-sm",rows:"3"},null,512),[[W,r.value]]),a("button",bt,[f(u(Q),{class:"w-5- h-5 text-cerulean-600 -rotate-45"})])],32)])):D("",!0),u(x)?(i(),N(K,{key:1})):(i(),c(b,{key:2},[a("button",{onClick:h,class:"text-sm text-gray-600 dark:text-gray-100"}," Xem thêm "),U(a("div",null,[(i(!0),c(b,null,w(m.data.children,v=>(i(),N(te,{key:v.id,data:v,blogId:m.blogId},null,8,["data","blogId"]))),128))],512),[[le,!u(x)&&l.value.children.length>0]])],64))]),m.data?(i(),c("div",wt)):D("",!0)]))}}),yt={class:"py-2"},$t={class:"flex gap-x-2 items-center"},kt=a("h4",{class:"text-xl font-semibold py-2 dark:text-gray-200"},"Bình Luận",-1),Dt={class:"pt-2 pb-1 pr-3 relative"},Nt={class:"absolute bottom-5 right-5",type:"submit"},Tt=y({__name:"CommentView",props:{blogId:{}},setup(n){const{user:e,isLogin:o}=F(),t=n,l=async()=>{if(!o)G(J.global.t("message.need_login"));else{const s=X(),r={blogId:t.blogId,userId:e.id,content:k.value,parentId:s,id:s,enable:!0,left:1,right:1};await ee(r).finally(()=>k.value="")}};return j(()=>t.blogId,async s=>{s!==void 0&&await H(t.blogId)}),(s,r)=>{const h=ie("TheQuestion");return i(),c("section",yt,[a("div",$t,[kt,f(h,{answer:"Bạn chỉ có thể bình luận sau khi đã thuê xe."})]),a("div",Dt,[a("form",{onSubmit:A(l,["prevent"])},[U(a("textarea",{"onUpdate:modelValue":r[0]||(r[0]=d=>re(k)?k.value=d:null),placeholder:"Bình luận...",class:"dark:bg-zinc-700 bg-gray-100 focus:ring-0 focus:outline-none border-gray-100 border w-full rounded-md resize-none p-2 text-gray-900 dark:text-gray-100 text-sm",rows:"3"},null,512),[[W,u(k)]]),a("button",Nt,[f(u(Q),{class:"w-5- h-5 text-cerulean-600 -rotate-45"})])],32)]),(i(!0),c(b,null,w(u(T),d=>(i(),N(te,ce({key:d.id,ref_for:!0},{data:d,blogId:s.blogId}),null,16))),128)),u(x)?(i(),N(K,{key:0})):D("",!0),u(M)?D("",!0):(i(),c("button",{key:1,onClick:r[1]||(r[1]=d=>u(H)(s.blogId)),class:"font-medium text-gray-600 mt-3 dark:text-gray-50"},g(s.$t("content.see_more",s.$t("content.comment"))),1))])}}}),Ct={class:"capitalize bg-cerulean-600 text-sm w-fit font-medium text-center rounded text-white py-4 px-4 mb-7.5"},It={class:"flex items-center my-4 flex-nowrap"},zt={class:"relative mr-3"},St={class:"flex gap-x-2"},Ut=["href"],Mt=["href"],Bt={class:"text-2xl font-bold mb-7 text-cerulean-600 capitalize"},Vt={class:"w-full h-[500px]"},Zt=["src","alt"],Lt={class:"py-5"},Rt={class:"text-base leading-6 font-semibold italic text-gray-900 pb-2.5 text-justify"},Ht=["innerHTML"],Pt=["innerHTML"],qt=y({__name:"DetailView",setup(n){const e=de(),o=ue(),t=new URL(window.location.href),l=async()=>{try{await navigator.clipboard.writeText(String(t)),R.fire({title:"Thành công!",text:`Copied: ${String(t)}`,icon:"success",confirmButtonText:"OK"})}catch{R.fire({title:"Error",text:"Something gone wrong",icon:"error",confirmButtonText:"Confirm"})}},s=p({});return Y(()=>{z("/api/blogs/slug/"+e.params.slug).then(r=>{r!=null&&r.data?s.value=r.data:o.push("/blogs")})}),(r,h)=>{var d,m,_,v,V,Z;return i(),c("div",null,[a("div",Ct,g(r.$t(String((m=(d=s.value)==null?void 0:d.category)==null?void 0:m.title))),1),a("div",It,[a("span",zt,g(r.$t("content.share"))+":",1),a("ul",St,[a("li",null,[a("a",{target:"_blank",href:`https://www.facebook.com/sharer/sharer.php?u=${u(t)}&src=sdkpreparse`,class:"fb-xfbml-parse-ignore"},[f(ae,{class:"w-5 h-5 fill-cerulean-400"})],8,Ut)]),a("li",null,[a("a",{class:"inline-block",href:`https://twitter.com/share?url=${u(t)}&text=Hi%20everyone,%20please%20check%20this%20out:%20`,target:"_blank"},[f(ne,{class:"w-5 h-5"})],8,Mt)]),a("li",null,[a("button",{class:"inline-block",style:{cursor:"pointer"},onClick:l},[f(u(Ze),{class:"w-5 h-5 text-gray-600"})])])])]),a("h1",Bt,g((_=s.value)==null?void 0:_.title),1),a("div",Vt,[a("img",{class:"w-full rounded-[5px] h-full object-cover",src:u(E)(s.value.imageUrl),alt:s.value.title},null,8,Zt)]),a("div",Lt,[a("h4",Rt,g((v=s.value)==null?void 0:v.desc),1)]),a("div",{class:"py-5",innerHTML:s.value.content},null,8,Ht),a("div",{class:"py-5 flex justify-center",innerHTML:s.value.videoEmbed},null,8,Pt),f(Ke),f(Tt,{"blog-id":s.value.id},null,8,["blog-id"]),f(st,{slug:(Z=(V=s.value)==null?void 0:V.category)==null?void 0:Z.slug},null,8,["slug"])])}}});export{qt as default};
