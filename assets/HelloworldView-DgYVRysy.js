import{f as g,d as i,o as S,a as w,b as t,p as k,P as T,t as p,F as y,J as N,S as x,U as B}from"./index-BC3jgjxj.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=o=>(x("data-v-40173aae"),o=o(),B(),o),O=J(()=>t("h2",null,"ü§ñÔ∏è My ChatGPT",-1)),j={class:"chat"},D={class:"button-block"},P=N('<div id="container-stars" data-v-40173aae><div id="stars" data-v-40173aae></div></div><div id="glow" data-v-40173aae><div class="circle" data-v-40173aae></div><div class="circle" data-v-40173aae></div></div>',2),V={class:"card"},u="Submit üöÄ",A=g({__name:"HelloworldView",setup(o){const n=i(""),s=i("‚úÖ The answer will be displayed here."),c=i(u);async function v(){var l;try{c.value="Thinking...ü§î";const a=[{role:"user",content:n.value}],r=JSON.stringify({model:"gpt-3.5-turbo",messages:a,stream:!0}),m=(l=(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-proj-gAJle3jEYq9vQWJjaKdPT3BlbkFJlP9olNNpblh0G6jcg6Sa"},body:r})).body)==null?void 0:l.getReader();for(s.value="";;){const{done:_,value:f}=await m.read();if(_)break;const b=new TextDecoder("utf-8").decode(f).split(`
`).filter(e=>e!==""&&e.length>0).map(e=>e.replace(/^data: /,"").trim()).filter(e=>e!=="[DONE]").map(e=>JSON.parse(e));for(const e of b){const{choices:[{delta:{content:d}}]}=e;d&&(s.value+=d)}}console.log("Stream ended.")}catch(a){console.error(a),s.value=a.response.data.error.message}finally{c.value=u}}const h=()=>{v()};return(l,a)=>(S(),w(y,null,[O,t("div",j,[k(t("input",{class:"input",placeholder:"Ask me about...üåΩ","onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r),clear:""},null,512),[[T,n.value]]),t("div",D,[t("button",{type:"button",onClick:h,class:"btn"},[t("strong",null,p(c.value),1),P])]),t("div",V,[t("pre",null,p(s.value),1)])])],64))}}),G=C(A,[["__scopeId","data-v-40173aae"]]);export{G as default};
