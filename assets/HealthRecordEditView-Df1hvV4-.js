import{d as g,a3 as me,w as le,f as ue,x as he,D as pe,o as v,c as fe,i as s,h as d,u as e,j as m,t as n,b,a as ee,F as ge,g as ce,p as Ve,O as y,aJ as be,a8 as $e}from"./index-DTg46rQC.js";import{u as Be}from"./useAsyncValidator-BiKHsQdo.js";import{_ as ae,a as oe,b as _e,c as ve}from"./Form.layout.vue_vue_type_script_setup_true_lang-cOmaJ-8J.js";import{_ as ye}from"./Form.radio.vue_vue_type_script_setup_true_lang-C7EF96gB.js";import{_ as w}from"./Form.textarea.vue_vue_type_script_setup_true_lang-DUUAAgSB.js";import{_ as we}from"./Form.input.slot.vue_vue_type_script_setup_true_lang-CZC2I28R.js";import{_ as f}from"./Form.input.vue_vue_type_script_setup_true_lang-CX-Al21t.js";import{_ as Ue}from"./Form.select.vue_vue_type_script_setup_true_lang-Ce7tN_9t.js";import{g as re,a as ke}from"./request.helper-DN6JUNty.js";import{p as te,r as De}from"./record-wRckXiVB.js";import{f as Fe}from"./index-B9LkKbxO.js";import"./form-DLmZ15FH.js";import"./keyboard-BpG9qIHi.js";import"./EyeIcon-B-aCzrou.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChevronDownIcon-BlJOeIs2.js";import"./enum-CD4clsnU.js";const o=g({}),B=g([]),_=g(""),Pe=["Tăng huyết áp","Viêm gan","Đái tháo đường"],se=g([]),$=g(""),de=g({}),ne=async i=>{$.value=i||"";const u={...te.value,value:$.value};re("/api/users/role/customer/search",u).then(p=>{if(p!=null&&p.data){const{data:t,...l}=p.data;se.value=t,de.value=l}})},Ne=Fe(async()=>{await ne()},600,{maxWait:5e3}),Ae=async i=>{re("/api/healthrecords/"+i).then(u=>{u!=null&&u.data&&(o.value=u.data)})},Ce=async()=>{const i=await ke("/api/healthrecords/"+o.value.id,o.value);i!=null&&i.data&&me(i.message)};le(B,i=>{o.value.anamnesis=i.join(", ")});le(_,i=>{o.value.anamnesis=i});const Ie={class:"mb-5 grid grid-cols-1 gap-6 xl:grid-cols-2"},Oe={class:"mb-5 grid grid-cols-2 gap-6 xl:grid-cols-3"},Re={class:"grid grid-cols-3 md:grid-cols-4 lg:grid-col-5 gap-2.5 p-5"},Se=["value","id"],je=["for"],aa=ue({__name:"HealthRecordEditView",setup(i){const u=he(),{pass:p,errorFields:t}=Be(o,De);return pe(async()=>{await ne(String(u.query.email||"")),await Ae(String(u.params.id))}),(l,a)=>(v(),fe(ve,{submit:e(Ce)},{default:s(()=>[d(ae,null,{default:s(()=>{var c,V,h,U,k,D,F,P,N,A,C,I,O,R;return[d(oe,{"has-error":[!!((V=(c=e(t))==null?void 0:c.birthDay)!=null&&V.length),!!((U=(h=e(t))==null?void 0:h.gender)!=null&&U.length),!!((D=(k=e(t))==null?void 0:k.address)!=null&&D.length),!!((P=(F=e(t))==null?void 0:F.height)!=null&&P.length),!!((A=(N=e(t))==null?void 0:N.weight)!=null&&A.length),!!((I=(C=e(t))==null?void 0:C.bloodPressure)!=null&&I.length),!!((R=(O=e(t))==null?void 0:O.heartBeat)!=null&&R.length)]},{heading:s(()=>[m(n(l.$t("form.heading")),1)]),content:s(()=>{var S,j,E,M,T,q,H,J,L,W,z,G,K,Q,X,Y,Z,x;return[b("div",Ie,[d(f,{type:"date",modelValue:e(o).birthDay,"onUpdate:modelValue":a[0]||(a[0]=r=>e(o).birthDay=r),"has-error":!!((j=(S=e(t))==null?void 0:S.birthDay)!=null&&j.length),placeholder:l.$t("form.place_holder.birth_day")},{default:s(()=>[m(n(l.$t("form.birth_day")),1)]),_:1},8,["modelValue","has-error","placeholder"]),d(Ue,{modelValue:e(o).gender,"onUpdate:modelValue":a[1]||(a[1]=r=>e(o).gender=r),list:[{label:l.$t("form.gender.male"),id:"male"},{label:l.$t("form.gender.female"),id:"female"}],"has-error":!!((M=(E=e(t))==null?void 0:E.gender)!=null&&M.length),placeholder:l.$t("form.place_holder.gender")},{default:s(()=>[m(n(l.$t("form.select_gender")),1)]),_:1},8,["modelValue","list","has-error","placeholder"])]),d(w,{modelValue:e(o).address,"onUpdate:modelValue":a[2]||(a[2]=r=>e(o).address=r),"has-error":!!((q=(T=e(t))==null?void 0:T.address)!=null&&q.length),placeholder:l.$t("form.place_holder.address")},{default:s(()=>[m(n(l.$t("form.address")),1)]),_:1},8,["modelValue","has-error","placeholder"]),b("div",Oe,[d(f,{type:"number",modelValue:e(o).height,"onUpdate:modelValue":a[3]||(a[3]=r=>e(o).height=r),"has-error":!!((J=(H=e(t))==null?void 0:H.height)!=null&&J.length),placeholder:l.$t("form.place_holder.height")},{default:s(()=>[m(n(l.$t("form.height")),1)]),_:1},8,["modelValue","has-error","placeholder"]),d(f,{type:"number",modelValue:e(o).weight,"onUpdate:modelValue":a[4]||(a[4]=r=>e(o).weight=r),"has-error":!!((W=(L=e(t))==null?void 0:L.weight)!=null&&W.length),placeholder:l.$t("form.place_holder.weight")},{default:s(()=>[m(n(l.$t("form.weight")),1)]),_:1},8,["modelValue","has-error","placeholder"]),d(f,{type:"number",modelValue:e(o).bloodPressure,"onUpdate:modelValue":a[5]||(a[5]=r=>e(o).bloodPressure=r),"has-error":!!((G=(z=e(t))==null?void 0:z.bloodPressure)!=null&&G.length),placeholder:l.$t("form.place_holder.blood_pressure")},{default:s(()=>[m(n(l.$t("form.blood_pressure")),1)]),_:1},8,["modelValue","has-error","placeholder"]),d(f,{type:"number",modelValue:e(o).heartBeat,"onUpdate:modelValue":a[6]||(a[6]=r=>e(o).heartBeat=r),"has-error":!!((Q=(K=e(t))==null?void 0:K.heartBeat)!=null&&Q.length),placeholder:l.$t("form.place_holder.heart_beat")},{default:s(()=>[m(n(l.$t("form.heart_beat")),1)]),_:1},8,["modelValue","has-error","placeholder"]),d(f,{type:"number",modelValue:e(o).temperature,"onUpdate:modelValue":a[7]||(a[7]=r=>e(o).temperature=r),"has-error":!!((Y=(X=e(t))==null?void 0:X.temperature)!=null&&Y.length),placeholder:l.$t("form.place_holder.temperature")},{default:s(()=>[m(n(l.$t("form.temperature")),1)]),_:1},8,["modelValue","has-error","placeholder"])]),d(w,{modelValue:e(o).diagnosis,"onUpdate:modelValue":a[8]||(a[8]=r=>e(o).diagnosis=r),"has-error":!!((x=(Z=e(t))==null?void 0:Z.diagnosis)!=null&&x.length),placeholder:l.$t("form.place_holder.diagnosis")},{default:s(()=>[m(n(l.$t("form.diagnosis")),1)]),_:1},8,["modelValue","has-error","placeholder"]),d(we,{"has-error":!1},{label:s(()=>[m(n(l.$t("form.anamnesis")),1)]),content:s(()=>[b("div",Re,[(v(!0),ee(ge,null,ce(e(Pe),r=>(v(),ee("div",{key:r,class:"flex gap-2 items-center"},[Ve(b("input",{type:"checkbox",value:r,"onUpdate:modelValue":a[9]||(a[9]=ie=>y(B)?B.value=ie:null),id:r},null,8,Se),[[be,e(B)]]),b("label",{for:r,class:"relative flex cursor-pointer select-none items-center gap-2 text-sm font-medium text-black-1000 dark:text-white"},n(r),9,je)]))),128))])]),_:1}),d(w,{modelValue:e(_),"onUpdate:modelValue":a[10]||(a[10]=r=>y(_)?_.value=r:null),placeholder:l.$t("form.place_holder.other_anamnesis")},{default:s(()=>[m(n(l.$t("form.other_anamnesis")),1)]),_:1},8,["modelValue","placeholder"])]}),_:1},8,["has-error"])]}),_:1}),d(ae,null,{default:s(()=>{var c,V;return[d(_e,{modelValue:e(o).enable,"onUpdate:modelValue":a[11]||(a[11]=h=>e(o).enable=h),pass:e(p)},null,8,["modelValue","pass"]),d(oe,{"has-error":[!!((V=(c=e(t))==null?void 0:c.userId)!=null&&V.length)]},{heading:s(()=>[m(n(l.$t("form.information")),1)]),content:s(()=>[d(ye,$e({"onUpdate:search":[e(Ne),a[13]||(a[13]=h=>y($)?$.value=h:null)],id:e(o).userId,"onUpdate:id":a[12]||(a[12]=h=>e(o).userId=h),search:e($),list:e(se)},{pagination:e(de),paginationOptions:e(te)}),null,16,["onUpdate:search","id","search","list"])]),_:1},8,["has-error"])]}),_:1})]),_:1},8,["submit"]))}});export{aa as default};
