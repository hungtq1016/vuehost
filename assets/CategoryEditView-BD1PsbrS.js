import{d as $,a3 as b,w as y,aI as w,f as v,x as B,D as C,o as N,c as U,i as o,h as r,u as e,j as n,t as d}from"./index-BC3jgjxj.js";import{u as k}from"./useAsyncValidator-D-1iyTRV.js";import{_,a as D,b as S,c as j}from"./Form.layout.vue_vue_type_script_setup_true_lang-BB3z9VPA.js";import{_ as h}from"./Form.input.vue_vue_type_script_setup_true_lang-UlMVIg7b.js";import{g as A,a as E}from"./request.helper-BUxsD2As.js";import{r as F}from"./category-Dn6c0M1E.js";import"./index-BMenrDxa.js";import"./form-B9B7fpoT.js";import"./keyboard-BRUDIerL.js";import"./EyeIcon-DFMnCOVI.js";import"./enum-CD4clsnU.js";const a=$({}),I=async t=>{A("/api/categories/"+t).then(l=>{l!=null&&l.data&&(a.value=l.data)})},M=async()=>{const t=await E("/api/categories/"+a.value.id,a.value);t!=null&&t.data&&b(t.message)};y(a,t=>{a.value.slug=w(t.title)},{deep:!0});const P=v({__name:"CategoryEditView",setup(t){const{pass:l,errorFields:f}=k(a,F),V=B();return C(async()=>{await I(String(V.params.id))}),(i,s)=>(N(),U(j,{submit:e(M)},{default:o(()=>[r(_,null,{default:o(()=>{var u,p;return[r(D,{"has-error":[!!((p=(u=e(f))==null?void 0:u.title)!=null&&p.length)]},{heading:o(()=>[n(d(i.$t("form.heading")),1)]),content:o(()=>{var c,g;return[r(h,{modelValue:e(a).title,"onUpdate:modelValue":s[0]||(s[0]=m=>e(a).title=m),"has-error":!!((g=(c=e(f))==null?void 0:c.title)!=null&&g.length),placeholder:i.$t("form.place_holder.title")},{default:o(()=>[n(d(i.$t("form.title")),1)]),_:1},8,["modelValue","has-error","placeholder"]),r(h,{modelValue:e(a).slug,"onUpdate:modelValue":s[1]||(s[1]=m=>e(a).slug=m),disabled:!0,placeholder:i.$t("form.place_holder.slug")},{default:o(()=>[n(d(i.$t("form.slug")),1)]),_:1},8,["modelValue","placeholder"])]}),_:1},8,["has-error"])]}),_:1}),r(_,null,{default:o(()=>[r(S,{modelValue:e(a).enable,"onUpdate:modelValue":s[2]||(s[2]=u=>e(a).enable=u),pass:e(l)},null,8,["modelValue","pass"])]),_:1})]),_:1},8,["submit"]))}});export{P as default};
